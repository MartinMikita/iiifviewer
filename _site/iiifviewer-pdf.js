/*
 * IiifViewer; Copyright (C) 2014 - Klokan Technologies GmbH
 * Powered by OpenLayers 3
 */
var k,aa=aa||{},l=this;function u(a){return void 0!==a}function ba(){}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function w(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function ga(a){return"function"==ca(a)}function ha(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function y(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+(1E9*Math.random()>>>0),ja=0;
function ka(a,b,c){return a.call.apply(a.bind,arguments)}function la(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function C(a,b,c){C=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ka:la;return C.apply(null,arguments)}
function ma(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var na=Date.now||function(){return+new Date};function oa(a,b){var c=a.split("."),d=l;c[0]in d||!d.execScript||d.execScript("var "+c[0]);for(var e;c.length&&(e=c.shift());)!c.length&&u(b)?d[e]=b:d=d[e]?d[e]:d[e]={}}
function F(a,b){function c(){}c.prototype=b.prototype;a.C=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.Ik=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}};var pa;var qa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function ra(a){if(!sa.test(a))return a;-1!=a.indexOf("\x26")&&(a=a.replace(ta,"\x26amp;"));-1!=a.indexOf("\x3c")&&(a=a.replace(ua,"\x26lt;"));-1!=a.indexOf("\x3e")&&(a=a.replace(va,"\x26gt;"));-1!=a.indexOf('"')&&(a=a.replace(wa,"\x26quot;"));-1!=a.indexOf("'")&&(a=a.replace(xa,"\x26#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(ya,"\x26#0;"));return a}
var ta=/&/g,ua=/</g,va=/>/g,wa=/"/g,xa=/'/g,ya=/\x00/g,sa=/[\x00&<>"']/;function Aa(a,b){return a<b?-1:a>b?1:0}function Ba(){return"transform".replace(/\-([a-z])/g,function(a,b){return b.toUpperCase()})}function Ca(a){var b=w(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,e){return b+e.toUpperCase()})};var Da=Array.prototype,Ea=Da.indexOf?function(a,b,c){return Da.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(w(a))return w(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},I=Da.forEach?function(a,b,c){Da.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=w(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Fa=Da.filter?function(a,b,c){return Da.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=
0,g=w(a)?a.split(""):a,h=0;h<d;h++)if(h in g){var m=g[h];b.call(c,m,h,a)&&(e[f++]=m)}return e},Ga=Da.map?function(a,b,c){return Da.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=w(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e};function Ha(a){var b;a:{b=Ja;for(var c=a.length,d=w(a)?a.split(""):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){b=e;break a}b=-1}return 0>b?null:w(a)?a.charAt(b):a[b]}
function Ka(a,b){var c=Ea(a,b),d;(d=0<=c)&&Da.splice.call(a,c,1);return d}function Ma(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function Na(a,b,c,d){Da.splice.apply(a,Oa(arguments,1))}function Oa(a,b,c){return 2>=arguments.length?Da.slice.call(a,b):Da.slice.call(a,b,c)}function Pa(a,b){if(!ea(a)||!ea(b)||a.length!=b.length)return!1;for(var c=a.length,d=Qa,e=0;e<c;e++)if(!d(a[e],b[e]))return!1;return!0}function Ra(a,b){return a>b?1:a<b?-1:0}
function Qa(a,b){return a===b};function Sa(){0!=Ta&&(Ua[y(this)]=this);this.Zb=this.Zb;this.lb=this.lb}var Ta=0,Ua={};Sa.prototype.Zb=!1;Sa.prototype.Qc=function(){if(!this.Zb&&(this.Zb=!0,this.h(),0!=Ta)){var a=y(this);delete Ua[a]}};function Wa(a,b){var c=ma(Ya,b);a.lb||(a.lb=[]);a.lb.push(u(void 0)?C(c,void 0):c)}Sa.prototype.h=function(){if(this.lb)for(;this.lb.length;)this.lb.shift()()};function Ya(a){a&&"function"==typeof a.Qc&&a.Qc()};var Za;a:{var $a=l.navigator;if($a){var ab=$a.userAgent;if(ab){Za=ab;break a}}Za=""}function bb(a){return-1!=Za.indexOf(a)};function cb(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function db(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return!0;return!1}function eb(a){var b=0,c;for(c in a)b++;return b}function fb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function gb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function hb(a,b){for(var c in a)if(b.call(void 0,a[c],c,a))return c}function ib(a){for(var b in a)return!1;return!0}function jb(a,b){b in a&&delete a[b]}function J(a,b,c){return b in a?a[b]:c}
function kb(a){var b={},c;for(c in a)b[c]=a[c];return b}var lb="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nb(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<lb.length;f++)c=lb[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
function ob(a){var b=arguments.length;if(1==b&&da(arguments[0]))return ob.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var pb=bb("Opera")||bb("OPR"),K=bb("Trident")||bb("MSIE"),qb=bb("Gecko")&&-1==Za.toLowerCase().indexOf("webkit")&&!(bb("Trident")||bb("MSIE")),M=-1!=Za.toLowerCase().indexOf("webkit"),rb=bb("Macintosh"),sb=bb("Windows"),tb=bb("Linux")||bb("CrOS");function ub(){var a=l.document;return a?a.documentMode:void 0}
var vb=function(){var a="",b;if(pb&&l.opera)return a=l.opera.version,ga(a)?a():a;qb?b=/rv\:([^\);]+)(\)|;)/:K?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:M&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Za))?a[1]:"");return K&&(b=ub(),b>parseFloat(a))?String(b):a}(),wb={};
function N(a){var b;if(!(b=wb[a])){b=0;for(var c=qa(String(vb)).split("."),d=qa(String(a)).split("."),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||"",h=d[f]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(g)||["","",""],q=n.exec(h)||["","",""];if(0==p[0].length&&0==q[0].length)break;b=Aa(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||Aa(0==p[2].length,0==q[2].length)||Aa(p[2],q[2])}while(0==b)}b=wb[a]=0<=b}return b}
var xb=l.document,yb=xb&&K?ub()||("CSS1Compat"==xb.compatMode?parseInt(vb,10):5):void 0;var zb=!K||K&&9<=yb,Ab=!K||K&&9<=yb,Bb=K&&!N("9");!M||N("528");qb&&N("1.9b")||K&&N("8")||pb&&N("9.5")||M&&N("528");qb&&!N("8")||K&&N("9");function O(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.ob=!1;this.Bg=!0}O.prototype.h=function(){};O.prototype.Qc=function(){};O.prototype.stopPropagation=function(){this.ob=!0};O.prototype.preventDefault=function(){this.defaultPrevented=!0;this.Bg=!1};function Cb(a){a.stopPropagation()}function Db(a){a.preventDefault()};var Eb=K?"focusout":"DOMFocusOut";function Fb(a){Fb[" "](a);return a}Fb[" "]=ba;function Gb(a,b){O.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.qd=!1;this.d=null;if(a){this.d=a;var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(qb){var e;a:{try{Fb(d.nodeName);e=!0;break a}catch(f){}e=!1}e||(d=
null)}}else"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;Object.defineProperties?Object.defineProperties(this,{offsetX:{configurable:!0,enumerable:!0,get:this.Ef,set:this.Dj},offsetY:{configurable:!0,enumerable:!0,get:this.Ff,set:this.Ej}}):(this.offsetX=this.Ef(),this.offsetY=this.Ff());this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=
a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.qd=rb?a.metaKey:a.ctrlKey;this.state=a.state;a.defaultPrevented&&this.preventDefault()}}F(Gb,O);var Hb=[1,4,2];function Ib(a){return(zb?0==a.d.button:"click"==a.type?!0:!!(a.d.button&Hb[0]))&&!(M&&rb&&a.ctrlKey)}k=Gb.prototype;
k.stopPropagation=function(){Gb.C.stopPropagation.call(this);this.d.stopPropagation?this.d.stopPropagation():this.d.cancelBubble=!0};k.preventDefault=function(){Gb.C.preventDefault.call(this);var a=this.d;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Bb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};k.Hh=function(){return this.d};k.h=function(){};k.Ef=function(){return M||void 0!==this.d.offsetX?this.d.offsetX:this.d.layerX};
k.Dj=function(a){Object.defineProperties(this,{offsetX:{writable:!0,enumerable:!0,configurable:!0,value:a}})};k.Ff=function(){return M||void 0!==this.d.offsetY?this.d.offsetY:this.d.layerY};k.Ej=function(a){Object.defineProperties(this,{offsetY:{writable:!0,enumerable:!0,configurable:!0,value:a}})};var Jb="closure_listenable_"+(1E6*Math.random()|0);function Kb(a){return!(!a||!a[Jb])}var Lb=0;function Mb(a,b,c,d,e){this.jb=a;this.proxy=null;this.src=b;this.type=c;this.Ub=!!d;this.Xc=e;this.key=++Lb;this.Nb=this.Lc=!1}function Nb(a){a.Nb=!0;a.jb=null;a.proxy=null;a.src=null;a.Xc=null};function Ob(a){this.src=a;this.H={};this.Hc=0}Ob.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.H[f];a||(a=this.H[f]=[],this.Hc++);var g=Pb(a,b,d,e);-1<g?(b=a[g],c||(b.Lc=!1)):(b=new Mb(b,this.src,f,!!d,e),b.Lc=c,a.push(b));return b};Ob.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.H))return!1;var e=this.H[a];b=Pb(e,b,c,d);return-1<b?(Nb(e[b]),Da.splice.call(e,b,1),0==e.length&&(delete this.H[a],this.Hc--),!0):!1};
function Qb(a,b){var c=b.type;if(!(c in a.H))return!1;var d=Ka(a.H[c],b);d&&(Nb(b),0==a.H[c].length&&(delete a.H[c],a.Hc--));return d}Ob.prototype.he=function(a,b,c,d){a=this.H[a.toString()];var e=-1;a&&(e=Pb(a,b,c,d));return-1<e?a[e]:null};Ob.prototype.Ba=function(a,b){var c=u(a),d=c?a.toString():"",e=u(b);return db(this.H,function(a){for(var g=0;g<a.length;++g)if(!(c&&a[g].type!=d||e&&a[g].Ub!=b))return!0;return!1})};
function Pb(a,b,c,d){for(var e=0;e<a.length;++e){var f=a[e];if(!f.Nb&&f.jb==b&&f.Ub==!!c&&f.Xc==d)return e}return-1};var Rb="closure_lm_"+(1E6*Math.random()|0),Sb={},Tb=0;function P(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)P(a,b[f],c,d,e);return null}c=Ub(c);return Kb(a)?a.sa.add(String(b),c,!1,d,e):Vb(a,b,c,!1,d,e)}function Vb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=!!e,h=Wb(a);h||(a[Rb]=h=new Ob(a));c=h.add(b,c,d,e,f);if(c.proxy)return c;d=Xb();c.proxy=d;d.src=a;d.jb=c;a.addEventListener?a.addEventListener(b.toString(),d,g):a.attachEvent(Yb(b.toString()),d);Tb++;return c}
function Xb(){var a=Zb,b=Ab?function(c){return a.call(b.src,b.jb,c)}:function(c){c=a.call(b.src,b.jb,c);if(!c)return c};return b}function $b(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)$b(a,b[f],c,d,e);return null}c=Ub(c);return Kb(a)?a.sa.add(String(b),c,!0,d,e):Vb(a,b,c,!0,d,e)}function ac(a,b,c,d,e){if(da(b))for(var f=0;f<b.length;f++)ac(a,b[f],c,d,e);else c=Ub(c),Kb(a)?a.sa.remove(String(b),c,d,e):a&&(a=Wb(a))&&(b=a.he(b,c,!!d,e))&&R(b)}
function R(a){if(fa(a)||!a||a.Nb)return!1;var b=a.src;if(Kb(b))return Qb(b.sa,a);var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.Ub):b.detachEvent&&b.detachEvent(Yb(c),d);Tb--;(c=Wb(b))?(Qb(c,a),0==c.Hc&&(c.src=null,b[Rb]=null)):Nb(a);return!0}function Yb(a){return a in Sb?Sb[a]:Sb[a]="on"+a}function bc(a,b,c,d){var e=!0;if(a=Wb(a))if(b=a.H[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.Ub==c&&!f.Nb&&(f=cc(f,d),e=e&&!1!==f)}return e}
function cc(a,b){var c=a.jb,d=a.Xc||a.src;a.Lc&&R(a);return c.call(d,b)}
function Zb(a,b){if(a.Nb)return!0;if(!Ab){var c;if(!(c=b))a:{c=["window","event"];for(var d=l,e;e=c.shift();)if(null!=d[e])d=d[e];else{c=null;break a}c=d}e=c;c=new Gb(e,this);d=!0;if(!(0>e.keyCode||void 0!=e.returnValue)){a:{var f=!1;if(0==e.keyCode)try{e.keyCode=-1;break a}catch(g){f=!0}if(f||void 0==e.returnValue)e.returnValue=!0}e=[];for(f=c.currentTarget;f;f=f.parentNode)e.push(f);for(var f=a.type,h=e.length-1;!c.ob&&0<=h;h--){c.currentTarget=e[h];var m=bc(e[h],f,!0,c),d=d&&m}for(h=0;!c.ob&&h<
e.length;h++)c.currentTarget=e[h],m=bc(e[h],f,!1,c),d=d&&m}return d}return cc(a,new Gb(b,this))}function Wb(a){a=a[Rb];return a instanceof Ob?a:null}var dc="__closure_events_fn_"+(1E9*Math.random()>>>0);function Ub(a){if(ga(a))return a;a[dc]||(a[dc]=function(b){return a.handleEvent(b)});return a[dc]};function ec(a){return function(){return a}}var fc=ec(!1),gc=ec(!0);function hc(a){var b;b=b||0;return function(){return a.apply(this,Array.prototype.slice.call(arguments,0,b))}}function ic(a){var b=arguments,c=b.length;return function(){for(var a=0;a<c;a++)if(!b[a].apply(this,arguments))return!1;return!0}};function jc(a,b,c){Sa.call(this);this.Ei=a;this.si=c;this.xa=b||window;this.Ld=C(this.of,this)}F(jc,Sa);k=jc.prototype;k.ua=null;k.Xe=!1;k.start=function(){this.stop();this.Xe=!1;var a=kc(this),b=lc(this);a&&!b&&this.xa.mozRequestAnimationFrame?(this.ua=P(this.xa,"MozBeforePaint",this.Ld),this.xa.mozRequestAnimationFrame(null),this.Xe=!0):this.ua=a&&b?a.call(this.xa,this.Ld):this.xa.setTimeout(hc(this.Ld),20)};
k.stop=function(){if(this.qe()){var a=kc(this),b=lc(this);a&&!b&&this.xa.mozRequestAnimationFrame?R(this.ua):a&&b?b.call(this.xa,this.ua):this.xa.clearTimeout(this.ua)}this.ua=null};k.fire=function(){this.stop();this.of()};k.qe=function(){return null!=this.ua};k.of=function(){this.Xe&&this.ua&&R(this.ua);this.ua=null;this.Ei.call(this.si,na())};k.h=function(){this.stop();jc.C.h.call(this)};
function kc(a){a=a.xa;return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||null}function lc(a){a=a.xa;return a.cancelRequestAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||null};var mc;
function nc(){var a=l.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=C(function(a){if(("*"==d||a.origin==d)&&a.data==c)this.port1.onmessage()},this);
b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&!bb("Trident")&&!bb("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(u(c.next)){c=c.next;var a=c.hf;c.hf=null;a()}};return function(a){d.next={hf:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=
null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){l.setTimeout(a,0)}};ob("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));ob("action","cite","data","formaction","href","manifest","poster","src");ob("embed","iframe","link","object","script","style","template");function oc(a){if("function"==typeof a.gc)return a.gc();if(w(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return fb(a)}
function pc(a,b){if("function"==typeof a.forEach)a.forEach(b,void 0);else if(ea(a)||w(a))I(a,b,void 0);else{var c;if("function"==typeof a.gb)c=a.gb();else if("function"!=typeof a.gc)if(ea(a)||w(a)){c=[];for(var d=a.length,e=0;e<d;e++)c.push(e)}else c=gb(a);else c=void 0;for(var d=oc(a),e=d.length,f=0;f<e;f++)b.call(void 0,d[f],c&&c[f],a)}};function qc(a,b,c){return Math.min(Math.max(a,b),c)};function sc(a,b){this.a={};this.G=[];this.J=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof sc?(c=a.gb(),d=a.gc()):(c=gb(a),d=fb(a));for(var e=0;e<c.length;e++)this.set(c[e],d[e])}}k=sc.prototype;k.Uc=function(){return this.J};k.gc=function(){tc(this);for(var a=[],b=0;b<this.G.length;b++)a.push(this.a[this.G[b]]);return a};k.gb=function(){tc(this);return this.G.concat()};
k.Vd=function(a){return uc(this.a,a)};k.Fb=function(){return 0==this.J};k.clear=function(){this.a={};this.J=this.G.length=0};k.remove=function(a){return uc(this.a,a)?(delete this.a[a],this.J--,this.G.length>2*this.J&&tc(this),!0):!1};function tc(a){if(a.J!=a.G.length){for(var b=0,c=0;b<a.G.length;){var d=a.G[b];uc(a.a,d)&&(a.G[c++]=d);b++}a.G.length=c}if(a.J!=a.G.length){for(var e={},c=b=0;b<a.G.length;)d=a.G[b],uc(e,d)||(a.G[c++]=d,e[d]=1),b++;a.G.length=c}}
k.get=function(a,b){return uc(this.a,a)?this.a[a]:b};k.set=function(a,b){uc(this.a,a)||(this.J++,this.G.push(a));this.a[a]=b};k.forEach=function(a,b){for(var c=this.gb(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}};k.clone=function(){return new sc(this)};function uc(a,b){return Object.prototype.hasOwnProperty.call(a,b)};function vc(){this.ug=na()}new vc;vc.prototype.set=function(a){this.ug=a};vc.prototype.reset=function(){this.set(na())};vc.prototype.get=function(){return this.ug};var wc=!K||K&&9<=yb;!qb&&!K||K&&K&&9<=yb||qb&&N("1.9.1");K&&N("9");function xc(a,b){this.x=u(a)?a:0;this.y=u(b)?b:0}k=xc.prototype;k.clone=function(){return new xc(this.x,this.y)};k.ceil=function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};k.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};k.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};k.translate=function(a,b){a instanceof xc?(this.x+=a.x,this.y+=a.y):(this.x+=a,fa(b)&&(this.y+=b));return this};
k.scale=function(a,b){var c=fa(b)?b:a;this.x*=a;this.y*=c;return this};function yc(a,b){this.width=a;this.height=b}k=yc.prototype;k.clone=function(){return new yc(this.width,this.height)};k.Fb=function(){return!(this.width*this.height)};k.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};k.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};k.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};
k.scale=function(a,b){var c=fa(b)?b:a;this.width*=a;this.height*=c;return this};function zc(a){return a?new Ac(Bc(a)):pa||(pa=new Ac)}function Cc(a,b){return w(b)?a.getElementById(b):b}function Dc(a,b){cb(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Ec?a.setAttribute(Ec[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}
var Ec={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Fc(a){a=a.document;a=Gc(a)?a.documentElement:a.body;return new yc(a.clientWidth,a.clientHeight)}
function Hc(a){var b=!M&&Gc(a)?a.documentElement:a.body||a.documentElement;a=a.parentWindow||a.defaultView;return K&&N("10")&&a.pageYOffset!=b.scrollTop?new xc(b.scrollLeft,b.scrollTop):new xc(a.pageXOffset||b.scrollLeft,a.pageYOffset||b.scrollTop)}
function Ic(a,b,c){var d=arguments,e=document,f=d[0],g=d[1];if(!wc&&g&&(g.name||g.type)){f=["\x3c",f];g.name&&f.push(' name\x3d"',ra(g.name),'"');if(g.type){f.push(' type\x3d"',ra(g.type),'"');var h={};nb(h,g);delete h.type;g=h}f.push("\x3e");f=f.join("")}f=e.createElement(f);g&&(w(g)?f.className=g:da(g)?f.className=g.join(" "):Dc(f,g));2<d.length&&Jc(e,f,d,2);return f}
function Jc(a,b,c,d){function e(c){c&&b.appendChild(w(c)?a.createTextNode(c):c)}for(;d<c.length;d++){var f=c[d];!ea(f)||ha(f)&&0<f.nodeType?e(f):I(Kc(f)?Ma(f):f,e)}}function Gc(a){return"CSS1Compat"==a.compatMode}function Lc(a,b){b.parentNode&&b.parentNode.insertBefore(a,b.nextSibling)}function Mc(a,b,c){a.insertBefore(b,a.childNodes[c]||null)}function Nc(a){return a&&a.parentNode?a.parentNode.removeChild(a):null}
function Oc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Bc(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function Kc(a){if(a&&"number"==typeof a.length){if(ha(a))return"function"==typeof a.item||"string"==typeof a.item;if(ga(a))return"function"==typeof a.item}return!1}function Ac(a){this.bb=a||l.document||document}k=Ac.prototype;
k.Af=function(a){return Cc(this.bb,a)};k.$=Ac.prototype.Af;k.zc=Dc;k.createElement=function(a){return this.bb.createElement(a)};k.createTextNode=function(a){return this.bb.createTextNode(String(a))};k.appendChild=function(a,b){a.appendChild(b)};k.append=function(a,b){Jc(Bc(a),a,arguments,1)};k.canHaveChildren=function(a){if(1!=a.nodeType)return!1;switch(a.tagName){case "APPLET":case "AREA":case "BASE":case "BR":case "COL":case "COMMAND":case "EMBED":case "FRAME":case "HR":case "IMG":case "INPUT":case "IFRAME":case "ISINDEX":case "KEYGEN":case "LINK":case "NOFRAMES":case "NOSCRIPT":case "META":case "OBJECT":case "PARAM":case "SCRIPT":case "SOURCE":case "STYLE":case "TRACK":case "WBR":return!1}return!0};
k.removeNode=Nc;k.isWindow=function(a){return ha(a)&&a.window==a};k.contains=Oc;function S(){Sa.call(this);this.sa=new Ob(this);this.gh=this;this.Fe=null}F(S,Sa);S.prototype[Jb]=!0;k=S.prototype;k.addEventListener=function(a,b,c,d){P(this,a,b,c,d)};k.removeEventListener=function(a,b,c,d){ac(this,a,b,c,d)};
k.dispatchEvent=function(a){var b,c=this.Fe;if(c)for(b=[];c;c=c.Fe)b.push(c);var c=this.gh,d=a.type||a;if(w(a))a=new O(a,c);else if(a instanceof O)a.target=a.target||c;else{var e=a;a=new O(d,c);nb(a,e)}var e=!0,f;if(b)for(var g=b.length-1;!a.ob&&0<=g;g--)f=a.currentTarget=b[g],e=Pc(f,d,!0,a)&&e;a.ob||(f=a.currentTarget=c,e=Pc(f,d,!0,a)&&e,a.ob||(e=Pc(f,d,!1,a)&&e));if(b)for(g=0;!a.ob&&g<b.length;g++)f=a.currentTarget=b[g],e=Pc(f,d,!1,a)&&e;return e};
k.h=function(){S.C.h.call(this);if(this.sa){var a=this.sa,b=0,c;for(c in a.H){for(var d=a.H[c],e=0;e<d.length;e++)++b,Nb(d[e]);delete a.H[c];a.Hc--}}this.Fe=null};function Pc(a,b,c,d){b=a.sa.H[String(b)];if(!b)return!0;b=b.concat();for(var e=!0,f=0;f<b.length;++f){var g=b[f];if(g&&!g.Nb&&g.Ub==c){var h=g.jb,m=g.Xc||g.src;g.Lc&&Qb(a.sa,g);e=!1!==h.call(m,d)&&e}}return e&&0!=d.Bg}k.he=function(a,b,c,d){return this.sa.he(String(a),b,c,d)};k.Ba=function(a,b){return this.sa.Ba(u(a)?String(a):void 0,b)};function Qc(a){S.call(this);this.Ic=a||window;this.hd=P(this.Ic,"resize",this.hi,!1,this);this.Ob=Fc(this.Ic||window)}F(Qc,S);k=Qc.prototype;k.hd=null;k.Ic=null;k.Ob=null;k.Na=function(){return this.Ob?this.Ob.clone():null};k.h=function(){Qc.C.h.call(this);this.hd&&(R(this.hd),this.hd=null);this.Ob=this.Ic=null};k.hi=function(){var a=Fc(this.Ic||window),b=this.Ob;a==b||a&&b&&a.width==b.width&&a.height==b.height||(this.Ob=a,this.dispatchEvent("resize"))};function Rc(a,b,c,d,e){if(!(K||M&&N("525")))return!0;if(rb&&e)return Sc(a);if(e&&!d)return!1;fa(b)&&(b=Tc(b));if(!c&&(17==b||18==b||rb&&91==b))return!1;if(M&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(K&&d&&b==a)return!1;switch(a){case 13:return!0;case 27:return!M}return Sc(a)}
function Sc(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||M&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Tc(a){if(qb)a=Uc(a);else if(rb&&M)a:switch(a){case 93:a=91;break a}return a}
function Uc(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function Vc(a,b){S.call(this);a&&Wc(this,a,b)}F(Vc,S);k=Vc.prototype;k.L=null;k.cd=null;k.se=null;k.dd=null;k.W=-1;k.Pa=-1;k.Id=!1;
var Xc={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},Yc={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},Zc=K||M&&N("525"),$c=rb&&qb;k=Vc.prototype;
k.Sh=function(a){M&&(17==this.W&&!a.ctrlKey||18==this.W&&!a.altKey||rb&&91==this.W&&!a.metaKey)&&(this.Pa=this.W=-1);-1==this.W&&(a.ctrlKey&&17!=a.keyCode?this.W=17:a.altKey&&18!=a.keyCode?this.W=18:a.metaKey&&91!=a.keyCode&&(this.W=91));Zc&&!Rc(a.keyCode,this.W,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.Pa=Tc(a.keyCode),$c&&(this.Id=a.altKey))};k.Th=function(a){this.Pa=this.W=-1;this.Id=a.altKey};
k.handleEvent=function(a){var b=a.d,c,d,e=b.altKey;K&&"keypress"==a.type?(c=this.Pa,d=13!=c&&27!=c?b.keyCode:0):M&&"keypress"==a.type?(c=this.Pa,d=0<=b.charCode&&63232>b.charCode&&Sc(c)?b.charCode:0):pb?(c=this.Pa,d=Sc(c)?b.keyCode:0):(c=b.keyCode||this.Pa,d=b.charCode||0,$c&&(e=this.Id),rb&&63==d&&224==c&&(c=191));var f=c=Tc(c),g=b.keyIdentifier;c?63232<=c&&c in Xc?f=Xc[c]:25==c&&a.shiftKey&&(f=9):g&&g in Yc&&(f=Yc[g]);a=f==this.W;this.W=f;b=new ad(f,d,a,b);b.altKey=e;this.dispatchEvent(b)};
k.Af=function(){return this.L};function Wc(a,b,c){a.dd&&a.detach();a.L=b;a.cd=P(a.L,"keypress",a,c);a.se=P(a.L,"keydown",a.Sh,c,a);a.dd=P(a.L,"keyup",a.Th,c,a)}k.detach=function(){this.cd&&(R(this.cd),R(this.se),R(this.dd),this.dd=this.se=this.cd=null);this.L=null;this.Pa=this.W=-1};k.h=function(){Vc.C.h.call(this);this.detach()};function ad(a,b,c,d){Gb.call(this,d);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}F(ad,Gb);function bd(a,b,c,d){this.top=a;this.right=b;this.bottom=c;this.left=d}k=bd.prototype;k.Oa=function(){return this.right-this.left};k.Vc=function(){return this.bottom-this.top};k.clone=function(){return new bd(this.top,this.right,this.bottom,this.left)};k.contains=function(a){return this&&a?a instanceof bd?a.left>=this.left&&a.right<=this.right&&a.top>=this.top&&a.bottom<=this.bottom:a.x>=this.left&&a.x<=this.right&&a.y>=this.top&&a.y<=this.bottom:!1};
k.expand=function(a,b,c,d){ha(a)?(this.top-=a.top,this.right+=a.right,this.bottom+=a.bottom,this.left-=a.left):(this.top-=a,this.right+=b,this.bottom+=c,this.left-=d);return this};k.ceil=function(){this.top=Math.ceil(this.top);this.right=Math.ceil(this.right);this.bottom=Math.ceil(this.bottom);this.left=Math.ceil(this.left);return this};k.floor=function(){this.top=Math.floor(this.top);this.right=Math.floor(this.right);this.bottom=Math.floor(this.bottom);this.left=Math.floor(this.left);return this};
k.round=function(){this.top=Math.round(this.top);this.right=Math.round(this.right);this.bottom=Math.round(this.bottom);this.left=Math.round(this.left);return this};k.translate=function(a,b){a instanceof xc?(this.left+=a.x,this.right+=a.x,this.top+=a.y,this.bottom+=a.y):(this.left+=a,this.right+=a,fa(b)&&(this.top+=b,this.bottom+=b));return this};k.scale=function(a,b){var c=fa(b)?b:a;this.left*=a;this.right*=a;this.top*=c;this.bottom*=c;return this};function cd(a,b){var c=Bc(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function fd(a,b){return cd(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function gd(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}K&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function hd(a){if(K&&!(K&&8<=yb))return a.offsetParent;var b=Bc(a),c=fd(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=fd(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function id(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=gd(a),b=new xc(b.left,b.top);else{b=zc(a);b=Hc(b.bb);var c,d=Bc(a),e=fd(a,"position"),f=qb&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==e&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new xc(0,0),h;c=d?Bc(d):document;(h=!K||K&&9<=yb)||(h=zc(c),h=Gc(h.bb));h=h?c.documentElement:c.body;if(a!=h)if(a.getBoundingClientRect)c=gd(a),d=zc(d),d=Hc(d.bb),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!f)c=d.getBoxObjectFor(a),
d=d.getBoxObjectFor(h),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{c=a;do{g.x+=c.offsetLeft;g.y+=c.offsetTop;c!=a&&(g.x+=c.clientLeft||0,g.y+=c.clientTop||0);if(M&&"fixed"==fd(c,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}c=c.offsetParent}while(c&&c!=a);if(pb||M&&"absolute"==e)g.y-=d.body.offsetTop;for(c=a;(c=hd(c))&&c!=d.body&&c!=h;)g.x-=c.scrollLeft,pb&&"TR"==c.tagName||(g.y-=c.scrollTop)}b=new xc(g.x-b.x,g.y-b.y)}if(qb&&!N(12)){b:{g=Ba();if(void 0===a.style[g]&&(g=
(M?"Webkit":qb?"Moz":K?"ms":pb?"O":null)+Ca(g),void 0!==a.style[g])){g=(M?"-webkit":qb?"-moz":K?"-ms":pb?"-o":null)+"-transform";break b}g="transform"}a=(a=fd(a,g)||fd(a,"transform"))?(a=a.match(jd))?new xc(parseFloat(a[1]),parseFloat(a[2])):new xc(0,0):new xc(0,0);a=new xc(b.x+a.x,b.y+a.y)}else a=b;return a}b=ga(a.Hh);g=a;a.targetTouches&&a.targetTouches.length?g=a.targetTouches[0]:b&&a.d.targetTouches&&a.d.targetTouches.length&&(g=a.d.targetTouches[0]);return new xc(g.clientX,g.clientY)}
function kd(a,b){a.style.display=b?"":"none"}function ld(a,b,c,d){if(/^\d+px?$/.test(b))return parseInt(b,10);var e=a.style[c],f=a.runtimeStyle[c];a.runtimeStyle[c]=a.currentStyle[c];a.style[c]=b;b=a.style[d];a.style[c]=e;a.runtimeStyle[c]=f;return b}function md(a,b){var c=a.currentStyle?a.currentStyle[b]:null;return c?ld(a,c,"left","pixelLeft"):0}var nd={thin:2,medium:4,thick:6};
function od(a,b){if("none"==(a.currentStyle?a.currentStyle[b+"Style"]:null))return 0;var c=a.currentStyle?a.currentStyle[b+"Width"]:null;return c in nd?nd[c]:ld(a,c,"left","pixelLeft")}var jd=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;function pd(a,b){S.call(this);var c=this.L=a,c=ha(c)&&1==c.nodeType?this.L:this.L?this.L.body:null;this.Bi=!!c&&"rtl"==fd(c,"direction");this.bg=P(this.L,qb?"DOMMouseScroll":"mousewheel",this,b)}F(pd,S);
pd.prototype.handleEvent=function(a){var b=0,c=0,d=0;a=a.d;if("mousewheel"==a.type){c=1;if(K||M&&(sb||N("532.0")))c=40;d=qd(-a.wheelDelta,c);u(a.wheelDeltaX)?(b=qd(-a.wheelDeltaX,c),c=qd(-a.wheelDeltaY,c)):c=d}else d=a.detail,100<d?d=3:-100>d&&(d=-3),u(a.axis)&&a.axis===a.HORIZONTAL_AXIS?b=d:c=d;fa(this.cg)&&(b=qc(b,-this.cg,this.cg));fa(this.dg)&&(c=qc(c,-this.dg,this.dg));this.Bi&&(b=-b);b=new rd(d,a,b,c);this.dispatchEvent(b)};function qd(a,b){return M&&(rb||tb)&&0!=a%b?a:a/b}
pd.prototype.h=function(){pd.C.h.call(this);R(this.bg);this.bg=null};function rd(a,b,c,d){Gb.call(this,b);this.type="mousewheel";this.detail=a;this.deltaX=c;this.deltaY=d}F(rd,Gb);function sd(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}sd.prototype.BYTES_PER_ELEMENT=4;sd.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};sd.prototype.toString=Array.prototype.join;"undefined"==typeof Float32Array&&(sd.BYTES_PER_ELEMENT=4,sd.prototype.BYTES_PER_ELEMENT=sd.prototype.BYTES_PER_ELEMENT,sd.prototype.set=sd.prototype.set,sd.prototype.toString=sd.prototype.toString,oa("Float32Array",sd));function td(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}td.prototype.BYTES_PER_ELEMENT=8;td.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]};td.prototype.toString=Array.prototype.join;if("undefined"==typeof Float64Array){try{td.BYTES_PER_ELEMENT=8}catch(ud){}td.prototype.BYTES_PER_ELEMENT=td.prototype.BYTES_PER_ELEMENT;td.prototype.set=td.prototype.set;td.prototype.toString=td.prototype.toString;oa("Float64Array",td)};function vd(){var a=Array(16);wd(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return a}function wd(a,b,c,d,e,f,g,h,m,n,p,q,r,t,v,z,x){a[0]=b;a[1]=c;a[2]=d;a[3]=e;a[4]=f;a[5]=g;a[6]=h;a[7]=m;a[8]=n;a[9]=p;a[10]=q;a[11]=r;a[12]=t;a[13]=v;a[14]=z;a[15]=x}function xd(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12];a[13]=d;a[14]=e;a[15]=f}new Float64Array(3);new Float64Array(3);new Float64Array(4);new Float64Array(4);new Float64Array(4);
new Float64Array(16);function yd(){S.call(this);this.Ha=0}F(yd,S);yd.prototype.P=function(){++this.Ha;this.dispatchEvent("change")};yd.prototype.on=function(a,b,c){return P(this,a,b,!1,c)};function zd(a,b,c){O.call(this,a);this.key=b;this.oldValue=c}F(zd,O);function Ad(a){yd.call(this);y(this);this.Xa={};this.Jc={};this.Fi={};u(a)&&this.zc(a)}F(Ad,yd);var Bd={},Cd={},Dd={};function Ed(a){return Bd.hasOwnProperty(a)?Bd[a]:Bd[a]="change:"+a}k=Ad.prototype;
k.get=function(a){var b,c=this.Jc;if(c.hasOwnProperty(a)){a=c[a];b=a.target;var c=a.Oj,d=Cd.hasOwnProperty(c)?Cd[c]:Cd[c]="get"+(String(c.charAt(0)).toUpperCase()+String(c.substr(1)).toLowerCase()),d=b[d];b=u(d)?d.call(b):b.get(c);b=a.Zk(b)}else this.Xa.hasOwnProperty(a)&&(b=this.Xa[a]);return b};k.gb=function(){var a=this.Jc,b;if(ib(this.Xa)){if(ib(a))return[];b=a}else if(ib(a))b=this.Xa;else{b={};for(var c in this.Xa)b[c]=!0;for(c in a)b[c]=!0}return gb(b)};
k.notify=function(a,b){var c;c=Ed(a);this.dispatchEvent(new zd(c,a,b));this.dispatchEvent(new zd("propertychange",a,b))};k.set=function(a,b){var c=this.Jc;if(c.hasOwnProperty(a)){var d=c[a];b=d.Jk(b);var c=d.target,d=d.Oj,e=b,f=Dd.hasOwnProperty(d)?Dd[d]:Dd[d]="set"+(String(d.charAt(0)).toUpperCase()+String(d.substr(1)).toLowerCase()),f=c[f];u(f)?f.call(c,e):c.set(d,e)}else c=this.Xa[a],this.Xa[a]=b,this.notify(a,c)};k.zc=function(a){for(var b in a)this.set(b,a[b])};
k.unbind=function(a){var b=this.Fi,c=b[a];c&&(delete b[a],R(c),b=this.get(a),delete this.Jc[a],this.Xa[a]=b)};function Fd(a,b,c){O.call(this,a,c);this.element=b}F(Fd,O);function Gd(a){Ad.call(this);this.oa=u(a)?a:[];Hd(this)}F(Gd,Ad);k=Gd.prototype;k.clear=function(){for(;0<this.get("length");)this.pop()};k.extend=function(a){var b,c;b=0;for(c=a.length;b<c;++b)this.push(a[b]);return this};k.forEach=function(a,b){I(this.oa,a,b)};k.item=function(a){return this.oa[a]};k.pop=function(){return Id(this,this.get("length")-1)};
k.push=function(a){var b=this.oa.length;Na(this.oa,b,0,a);Hd(this);this.dispatchEvent(new Fd("add",a,this));return b};k.remove=function(a){var b=this.oa,c,d;c=0;for(d=b.length;c<d;++c)if(b[c]===a)return Id(this,c)};function Id(a,b){var c=a.oa[b];Da.splice.call(a.oa,b,1);Hd(a);a.dispatchEvent(new Fd("remove",c,a));return c}function Hd(a){a.set("length",a.oa.length)};var Jd=K&&!N("9.0")&&""!==vb;function Kd(a,b){a[0]+=b[0];a[1]+=b[1]}function Ld(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;a[0]=a[0]*c-a[1]*d;a[1]=e};function Md(a,b,c){O.call(this,a);this.map=b;this.frameState=u(c)?c:null}F(Md,O);function Nd(a,b,c){O.call(this,a);this.I=b;a=u(c)?c:{};this.buttons=Od(a);this.pressure=Pd(a,this.buttons);this.bubbles=J(a,"bubbles",!1);this.cancelable=J(a,"cancelable",!1);this.view=J(a,"view",null);this.detail=J(a,"detail",null);this.screenX=J(a,"screenX",0);this.screenY=J(a,"screenY",0);this.clientX=J(a,"clientX",0);this.clientY=J(a,"clientY",0);this.ctrlKey=J(a,"ctrlKey",!1);this.altKey=J(a,"altKey",!1);this.shiftKey=J(a,"shiftKey",!1);this.metaKey=J(a,"metaKey",!1);this.button=J(a,"button",
0);this.relatedTarget=J(a,"relatedTarget",null);this.pointerId=J(a,"pointerId",0);this.width=J(a,"width",0);this.height=J(a,"height",0);this.tiltX=J(a,"tiltX",0);this.tiltY=J(a,"tiltY",0);this.pointerType=J(a,"pointerType","");this.hwTimestamp=J(a,"hwTimestamp",0);this.isPrimary=J(a,"isPrimary",!1);b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}F(Nd,O);
function Od(a){if(a.buttons||Qd)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function Pd(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}var Qd=!1;try{Qd=1===(new MouseEvent("click",{buttons:1})).buttons}catch(Rd){};function Sd(a,b){var c=document.createElement("CANVAS");u(a)&&(c.width=a);u(b)&&(c.height=b);return c.getContext("2d")}
var Td=function(){var a;return function(){if(!u(a))if(l.getComputedStyle){var b=document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Nc(b);a=c&&"none"!==c}else a=!1;return a}}(),Ud=function(){var a;return function(){if(!u(a))if(l.getComputedStyle){var b=
document.createElement("P"),c,d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=l.getComputedStyle(b).getPropertyValue(d[e]));Nc(b);a=c&&"none"!==c}else a=!1;return a}}();
function Vd(a,b){var c=a.style;c.WebkitTransform=b;c.MozTransform=b;c.ok=b;c.msTransform=b;c.transform=b;K&&!Jd&&(a.style.transformOrigin="0 0")};var Wd=l.devicePixelRatio||1,Xd=!1,Yd=function(){if(!("HTMLCanvasElement"in l))return!1;try{var a=Sd();if(null===a)return!1;u(a.setLineDash)&&(Xd=!0);return!0}catch(b){return!1}}(),Zd="ontouchstart"in l,$d="PointerEvent"in l,ae=!!l.navigator.msPointerEnabled;function be(a,b){this.c=a;this.ld=b};function ce(a){be.call(this,a,{mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout});this.o=a.o;this.Yf=[]}F(ce,be);function de(a,b){for(var c=a.Yf,d=b.clientX,e=b.clientY,f=0,g=c.length,h;f<g&&(h=c[f]);f++){var m=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=m)return!0}return!1}
function ee(a){var b=fe(a,a.d),c=b.preventDefault;b.preventDefault=function(){a.preventDefault();c()};b.pointerId=1;b.isPrimary=!0;b.pointerType="mouse";return b}k=ce.prototype;k.mousedown=function(a){if(!de(this,a)){(1).toString()in this.o&&this.cancel(a);var b=ee(a);this.o[(1).toString()]=a;this.c.fireEvent(ge,b,a)}};k.mousemove=function(a){if(!de(this,a)){var b=ee(a);this.c.move(b,a)}};
k.mouseup=function(a){if(!de(this,a)){var b=this.o[(1).toString()];b&&b.button===a.button&&(b=ee(a),this.c.fireEvent(he,b,a),jb(this.o,(1).toString()))}};k.mouseover=function(a){if(!de(this,a)){var b=ee(a);ie(this.c,b,a)}};k.mouseout=function(a){if(!de(this,a)){var b=ee(a);je(this.c,b,a)}};k.cancel=function(a){var b=ee(a);this.c.cancel(b,a);jb(this.o,(1).toString())};function ke(a){be.call(this,a,{MSPointerDown:this.Xi,MSPointerMove:this.Yi,MSPointerUp:this.aj,MSPointerOut:this.Zi,MSPointerOver:this.$i,MSPointerCancel:this.Wi,MSGotPointerCapture:this.Ui,MSLostPointerCapture:this.Vi});this.o=a.o;this.Yg=["","unavailable","touch","pen","mouse"]}F(ke,be);function le(a,b){var c=b;fa(b.d.pointerType)&&(c=fe(b,b.d),c.pointerType=a.Yg[b.d.pointerType]);return c}k=ke.prototype;k.Xi=function(a){this.o[a.d.pointerId]=a;var b=le(this,a);this.c.fireEvent(ge,b,a)};
k.Yi=function(a){var b=le(this,a);this.c.move(b,a)};k.aj=function(a){var b=le(this,a);this.c.fireEvent(he,b,a);jb(this.o,a.d.pointerId)};k.Zi=function(a){var b=le(this,a);je(this.c,b,a)};k.$i=function(a){var b=le(this,a);ie(this.c,b,a)};k.Wi=function(a){var b=le(this,a);this.c.cancel(b,a);jb(this.o,a.d.pointerId)};k.Vi=function(a){this.c.dispatchEvent(new Nd("lostpointercapture",a,a.d))};k.Ui=function(a){this.c.dispatchEvent(new Nd("gotpointercapture",a,a.d))};function me(a){be.call(this,a,{pointerdown:this.mj,pointermove:this.nj,pointerup:this.qj,pointerout:this.oj,pointerover:this.pj,pointercancel:this.lj,gotpointercapture:this.Lh,lostpointercapture:this.Ni})}F(me,be);k=me.prototype;k.mj=function(a){ne(this.c,a)};k.nj=function(a){ne(this.c,a)};k.qj=function(a){ne(this.c,a)};k.oj=function(a){ne(this.c,a)};k.pj=function(a){ne(this.c,a)};k.lj=function(a){ne(this.c,a)};k.Ni=function(a){ne(this.c,a)};k.Lh=function(a){ne(this.c,a)};function oe(a,b){be.call(this,a,{touchstart:this.$j,touchmove:this.Zj,touchend:this.Yj,touchcancel:this.Xj});this.o=a.o;this.Si=b;this.bc=void 0;this.Pd=0;this.vc=void 0}F(oe,be);k=oe.prototype;k.yg=function(){this.Pd=0;this.vc=void 0};
function pe(a,b,c){b=fe(b,c);b.pointerId=c.identifier+2;b.bubbles=!0;b.cancelable=!0;b.detail=a.Pd;b.button=0;b.buttons=1;b.width=c.webkitRadiusX||c.radiusX||0;b.height=c.webkitRadiusY||c.radiusY||0;b.pressure=c.webkitForce||c.force||.5;b.isPrimary=a.bc===c.identifier;b.pointerType="touch";b.clientX=c.clientX;b.clientY=c.clientY;b.screenX=c.screenX;b.screenY=c.screenY;return b}
function qe(a,b,c){function d(){b.preventDefault()}var e=Array.prototype.slice.call(b.d.changedTouches),f=e.length,g,h;for(g=0;g<f;++g)h=pe(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}
k.$j=function(a){var b=a.d.touches,c=gb(this.o),d=c.length;if(d>=b.length){var e=[],f,g,h;for(f=0;f<d;++f){g=c[f];h=this.o[g];var m;if(!(m=1==g))a:{m=b.length;for(var n=void 0,p=0;p<m;p++)if(n=b[p],n.identifier===g-2){m=!0;break a}m=!1}m||e.push(h.mb)}for(f=0;f<e.length;++f)this.Md(a,e[f])}b=eb(this.o);if(!(c=0===b)){if(b=1===b)b=(1).toString()in this.o;c=b}c&&(this.bc=a.d.changedTouches[0].identifier,u(this.vc)&&l.clearTimeout(this.vc));re(this,a);this.Pd++;qe(this,a,this.ej)};
k.ej=function(a,b){this.o[b.pointerId]={target:b.target,mb:b,mg:b.target};var c=this.c;b.bubbles=!0;c.fireEvent(se,b,a);c=this.c;b.bubbles=!1;c.fireEvent(te,b,a);this.c.fireEvent(ge,b,a)};k.Zj=function(a){a.preventDefault();qe(this,a,this.Ti)};
k.Ti=function(a,b){var c=this.o[b.pointerId];if(c){var d=c.mb,e=c.mg;this.c.move(b,a);d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(je(this.c,d,a),ie(this.c,b,a)):(b.target=e,b.relatedTarget=null,this.Md(a,b)));c.mb=b;c.mg=b.target}};k.Yj=function(a){re(this,a);qe(this,a,this.ak)};
k.ak=function(a,b){this.c.fireEvent(he,b,a);this.c.mb(b,a);var c=this.c;b.bubbles=!1;c.fireEvent(ue,b,a);jb(this.o,b.pointerId);b.isPrimary&&(this.bc=void 0,this.vc=l.setTimeout(C(this.yg,this),200))};k.Xj=function(a){qe(this,a,this.Md)};k.Md=function(a,b){this.c.cancel(b,a);this.c.mb(b,a);var c=this.c;b.bubbles=!1;c.fireEvent(ue,b,a);jb(this.o,b.pointerId);b.isPrimary&&(this.bc=void 0,this.vc=l.setTimeout(C(this.yg,this),200))};
function re(a,b){var c=a.Si.Yf,d=b.d.changedTouches[0];if(a.bc===d.identifier){var e=[d.clientX,d.clientY];c.push(e);l.setTimeout(function(){Ka(c,e)},2500)}};function ve(a){S.call(this);this.L=a;this.o={};this.rf={};this.ac=[];$d?we(this,new me(this)):ae?we(this,new ke(this)):(a=new ce(this),we(this,a),Zd&&we(this,new oe(this,a)));a=this.ac.length;for(var b,c=0;c<a;c++)b=this.ac[c],xe(this,gb(b.ld))}F(ve,S);function we(a,b){var c=gb(b.ld);c&&(I(c,function(a){var c=b.ld[a];c&&(this.rf[a]=C(c,b))},a),a.ac.push(b))}k=ve.prototype;k.qf=function(a){var b=this.rf[a.type];b&&b(a)};function xe(a,b){I(b,function(a){P(this.L,a,this.qf,!1,this)},a)}
function ye(a,b){I(b,function(a){ac(this.L,a,this.qf,!1,this)},a)}function fe(a,b){for(var c={},d,e=0,f=ze.length;e<f;e++)d=ze[e][0],c[d]=a[d]||b[d]||ze[e][1];return c}k.move=function(a,b){this.fireEvent(Ae,a,b)};k.mb=function(a,b){a.bubbles=!0;this.fireEvent(Be,a,b)};k.cancel=function(a,b){this.fireEvent(Ce,a,b)};function je(a,b,c){a.mb(b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(ue,b,c))}
function ie(a,b,c){b.bubbles=!0;a.fireEvent(se,b,c);b.target.contains(b.relatedTarget)||(b.bubbles=!1,a.fireEvent(te,b,c))}k.fireEvent=function(a,b,c){this.dispatchEvent(new Nd(a,c,b))};function ne(a,b){a.dispatchEvent(new Nd(b.type,b,b.d))}k.h=function(){for(var a=this.ac.length,b,c=0;c<a;c++)b=this.ac[c],ye(this,gb(b.ld));ve.C.h.call(this)};
var Ae="pointermove",ge="pointerdown",he="pointerup",se="pointerover",Be="pointerout",te="pointerenter",ue="pointerleave",Ce="pointercancel",ze=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",
!1],["type",""],["target",null],["currentTarget",null],["which",0]];function De(a,b,c,d,e){Md.call(this,a,b,e);this.I=c;this.originalEvent=c.d;c=this.originalEvent;u(c.changedTouches)?(a=c.changedTouches[0],c=id(b.r),a=[a.clientX-c.x,a.clientY-c.y]):(a=b.r,c=id(c),a=id(a),a=new xc(c.x-a.x,c.y-a.y),a=[a.x,a.y]);this.pixel=a;this.coordinate=b.cc(this.pixel);this.dragging=u(d)?d:!1}F(De,Md);De.prototype.preventDefault=function(){De.C.preventDefault.call(this);this.I.preventDefault()};De.prototype.stopPropagation=function(){De.C.stopPropagation.call(this);this.I.stopPropagation()};
function Ee(a,b,c,d,e){De.call(this,a,b,c.I,d,e);this.nb=c}F(Ee,De);function Ge(a){S.call(this);this.a=a;this.Vb=0;this.Rc=!1;this.Ma=this.rd=this.cb=null;a=this.a.r;this.ef=0;this.Ve={};this.Lb=new ve(a);this.La=null;this.rd=P(this.Lb,ge,this.di,!1,this);this.He=P(this.Lb,Ae,this.sj,!1,this)}F(Ge,S);
function He(a,b){var c;c=new Ee(Ie,a.a,b);a.dispatchEvent(c);0!==a.Vb?(l.clearTimeout(a.Vb),a.Vb=0,c=new Ee(Je,a.a,b),a.dispatchEvent(c)):a.Vb=l.setTimeout(C(function(){this.Vb=0;var a=new Ee(Ke,this.a,b);this.dispatchEvent(a)},a),250)}function Le(a,b){b.type==Me||b.type==Ne?delete a.Ve[b.pointerId]:b.type==Oe&&(a.Ve[b.pointerId]=!0);a.ef=eb(a.Ve)}k=Ge.prototype;
k.Nf=function(a){Le(this,a);var b=new Ee(Me,this.a,a);this.dispatchEvent(b);!this.Rc&&0===a.button&&He(this,this.Ma);0===this.ef&&(I(this.cb,R),this.cb=null,this.Rc=!1,this.Ma=null,Ya(this.La),this.La=null)};k.di=function(a){Le(this,a);var b=new Ee(Oe,this.a,a);this.dispatchEvent(b);this.Ma=a;null===this.cb&&(this.La=new ve(document),this.cb=[P(this.La,Pe,this.ei,!1,this),P(this.La,Me,this.Nf,!1,this),P(this.Lb,Ne,this.Nf,!1,this)])};
k.ei=function(a){if(a.clientX!=this.Ma.clientX||a.clientY!=this.Ma.clientY){this.Rc=!0;var b=new Ee(Qe,this.a,a,this.Rc);this.dispatchEvent(b)}a.preventDefault()};k.sj=function(a){this.dispatchEvent(new Ee(a.type,this.a,a,null!==this.Ma&&(a.clientX!=this.Ma.clientX||a.clientY!=this.Ma.clientY)))};
k.h=function(){null!==this.He&&(R(this.He),this.He=null);null!==this.rd&&(R(this.rd),this.rd=null);null!==this.cb&&(I(this.cb,R),this.cb=null);null!==this.La&&(Ya(this.La),this.La=null);null!==this.Lb&&(Ya(this.Lb),this.Lb=null);Ge.C.h.call(this)};var Ke="singleclick",Ie="click",Je="dblclick",Qe="pointerdrag",Pe="pointermove",Oe="pointerdown",Me="pointerup",Ne="pointercancel",Re={yk:Ke,mk:Ie,nk:Je,rk:Qe,uk:Pe,qk:Oe,xk:Me,wk:"pointerover",vk:"pointerout",sk:"pointerenter",tk:"pointerleave",pk:Ne};function Se(a,b,c){return a+"/"+b+"/"+c}function Te(a){return Se(a[0],a[1],a[2])};function Ue(a,b,c,d){this.n=a;this.B=b;this.u=c;this.q=d}function Ve(a,b,c,d,e){return u(e)?(e.n=a,e.B=b,e.u=c,e.q=d,e):new Ue(a,b,c,d)}k=Ue.prototype;k.contains=function(a){return this.Pc(a[1],a[2])};function We(a,b){return a.n<=b.n&&b.B<=a.B&&a.u<=b.u&&b.q<=a.q}k.Pc=function(a,b){return this.n<=a&&a<=this.B&&this.u<=b&&b<=this.q};k.extend=function(a){a.n<this.n&&(this.n=a.n);a.B>this.B&&(this.B=a.B);a.u<this.u&&(this.u=a.u);a.q>this.q&&(this.q=a.q)};k.Vc=function(){return this.q-this.u+1};
k.Na=function(){return[this.Oa(),this.Vc()]};k.Oa=function(){return this.B-this.n+1};function Xe(){return[Infinity,Infinity,-Infinity,-Infinity]}function Ye(a,b,c,d,e){return u(e)?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function Ze(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function $e(a,b){var c;"bottom-left"===b?c=[a[0],a[1]]:"bottom-right"===b?c=[a[2],a[1]]:"top-left"===b?c=af(a):"top-right"===b&&(c=[a[2],a[3]]);return c}
function bf(a,b,c,d){var e=b*d[0]/2,f=b*d[1]/2;b=Math.cos(c);d=Math.sin(c);e=[-e,-e,e,e];c=[-f,f,-f,f];for(var g,h,f=0;4>f;++f)g=e[f],h=c[f],e[f]=a[0]+g*b-h*d,c[f]=a[1]+g*d+h*b;a=Math.min.apply(null,e);b=Math.min.apply(null,c);e=Math.max.apply(null,e);c=Math.max.apply(null,c);return Ye(a,b,e,c,void 0)}function cf(a,b){var c=u(void 0)?void 0:Xe();df(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]);return c}
function af(a){return[a[0],a[3]]}function df(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]};/*

 Latitude/longitude spherical geodesy formulae taken from
 http://www.movable-type.co.uk/scripts/latlong.html
 Licenced under CC-BY-3.0.
*/
function ef(a){this.tg=a}ef.prototype.offset=function(a,b,c){var d=a[1]*Math.PI/180;b/=this.tg;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(a[0]*Math.PI/180+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var ff={};ff.degrees=2*Math.PI*(new ef(6370997)).tg/360;ff.ft=.3048;ff.m=1;function gf(a){this.Wb=a.code;this.Sg=a.units;this.aa=u(a.e)?a.e:null;this.nf=null}gf.prototype.R=function(){return this.aa};gf.prototype.Dg=function(a){this.aa=a};var hf={},jf={};function kf(a){lf(a);I(a,function(b){I(a,function(a){b!==a&&mf(b,a,nf)})})}function of(a){hf[a.Wb]=a;mf(a,a,nf)}function lf(a){var b=[];I(a,function(a){b.push(of(a))})}function pf(a){return null!=a?w(a)?qf(a):a:qf("EPSG:3857")}
function mf(a,b,c){a=a.Wb;b=b.Wb;a in jf||(jf[a]={});jf[a][b]=c}function qf(a){return a instanceof gf?a:w(a)?hf[a]:null}function rf(a,b){if(u(b)&&a!==b){for(var c=0,d=a.length;c<d;++c)b[c]=a[c];a=b}return a}function nf(a,b){var c;if(u(b)){c=0;for(var d=a.length;c<d;++c)b[c]=a[c];c=b}else c=a.slice();return c};function sf(a){yd.call(this);this.sg=qf(a.projection);this.nh=u(a.Za)?a.Za:null;this.Li=a.Fa;this.Mj=u(a.state)?a.state:"ready"}F(sf,yd);sf.prototype.S=function(){return this.Mj};function T(a){Ad.call(this);var b=kb(a);b.brightness=u(a.Sb)?a.Sb:0;b.contrast=u(a.Yb)?a.Yb:1;b.hue=u(a.hc)?a.hc:0;b.opacity=u(a.opacity)?a.opacity:1;b.saturation=u(a.yc)?a.yc:1;b.visible=u(a.visible)?a.visible:!0;b.maxResolution=u(a.Sa)?a.Sa:Infinity;b.minResolution=u(a.kb)?a.kb:0;this.zc(b)}F(T,Ad);T.prototype.yf=function(){return this.get("brightness")};T.prototype.getBrightness=T.prototype.yf;T.prototype.zf=function(){return this.get("contrast")};T.prototype.getContrast=T.prototype.zf;
T.prototype.Bf=function(){return this.get("hue")};T.prototype.getHue=T.prototype.Bf;function tf(a){var b=a.yf(),c=a.zf(),d=a.Bf(),e=a.Gf(),f=a.Hf(),g=a.If(),h=a.me(),m=a.R(),n=a.Cf(),p=a.Df();return{gd:a,Sb:qc(b,-1,1),Yb:Math.max(c,0),hc:d,opacity:qc(e,0,1),yc:Math.max(f,0),Ig:g,visible:h,e:m,Sa:n,kb:Math.max(p,0)}}T.prototype.R=function(){return this.get("extent")};T.prototype.getExtent=T.prototype.R;T.prototype.Cf=function(){return this.get("maxResolution")};T.prototype.getMaxResolution=T.prototype.Cf;
T.prototype.Df=function(){return this.get("minResolution")};T.prototype.getMinResolution=T.prototype.Df;T.prototype.Gf=function(){return this.get("opacity")};T.prototype.getOpacity=T.prototype.Gf;T.prototype.Hf=function(){return this.get("saturation")};T.prototype.getSaturation=T.prototype.Hf;T.prototype.me=function(){return this.get("visible")};T.prototype.getVisible=T.prototype.me;T.prototype.wj=function(a){this.set("brightness",a)};T.prototype.setBrightness=T.prototype.wj;
T.prototype.xj=function(a){this.set("contrast",a)};T.prototype.setContrast=T.prototype.xj;T.prototype.zj=function(a){this.set("hue",a)};T.prototype.setHue=T.prototype.zj;T.prototype.Dg=function(a){this.set("extent",a)};T.prototype.setExtent=T.prototype.Dg;T.prototype.Bj=function(a){this.set("maxResolution",a)};T.prototype.setMaxResolution=T.prototype.Bj;T.prototype.Cj=function(a){this.set("minResolution",a)};T.prototype.setMinResolution=T.prototype.Cj;
T.prototype.Fj=function(a){this.set("opacity",a)};T.prototype.setOpacity=T.prototype.Fj;T.prototype.Gj=function(a){this.set("saturation",a)};T.prototype.setSaturation=T.prototype.Gj;T.prototype.Jj=function(a){this.set("visible",a)};T.prototype.setVisible=T.prototype.Jj;function uf(a){var b=kb(a);delete b.source;T.call(this,b);this.wd=null;P(this,Ed("source"),this.ki,!1,this);this.Gg(u(a.source)?a.source:null)}F(uf,T);uf.prototype.ge=function(a){a=u(a)?a:[];a.push(tf(this));return a};uf.prototype.wb=function(){var a=this.get("source");return u(a)?a:null};uf.prototype.getSource=uf.prototype.wb;uf.prototype.If=function(){var a=this.wb();return null===a?"undefined":a.S()};uf.prototype.ji=function(){this.P()};
uf.prototype.ki=function(){null!==this.wd&&(R(this.wd),this.wd=null);var a=this.wb();null!==a&&(this.wd=P(a,"change",this.ji,!1,this));this.P()};uf.prototype.Gg=function(a){this.set("source",a)};uf.prototype.setSource=uf.prototype.Gg;function vf(a,b){S.call(this);this.p=a;this.state=b}F(vf,S);vf.prototype.P=function(){this.dispatchEvent("change")};vf.prototype.getKey=function(){return y(this).toString()};vf.prototype.S=function(){return this.state};function wf(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1]))if(0<c)for(c=1;c<d;++c){if(a[c]<b)return c-1}else if(0>c)for(c=1;c<d;++c){if(a[c]<=b)return c}else for(c=1;c<d;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}return d-1};function xf(a){this.Ga=u(a.Ga)?a.Ga:0;this.wc=a.qb;this.Jb=this.wc.length-1;this.od=u(a.origin)?a.origin:null;this.lg=null;u(a.dj)&&(this.lg=a.dj);this.Te=null;u(a.Wj)&&(this.Te=a.Wj);this.Pg=u(a.Va)?a.Va:null===this.Te?256:void 0}var yf=[0,0,0];xf.prototype.ee=function(a,b,c,d,e){e=zf(this,a,e);for(a=a[0]-1;a>=this.Ga;){if(b.call(c,a,Af(this,e,a,d)))return!0;--a}return!1};xf.prototype.fc=function(a){return null===this.od?this.lg[a]:this.od};xf.prototype.j=function(a){return this.wc[a]};
xf.prototype.je=function(a,b,c){return a[0]<this.Jb?(c=zf(this,a,c),Af(this,c,a[0]+1,b)):null};function Bf(a,b,c,d){Cf(a,b[0],b[1],c,!1,yf);var e=yf[1],f=yf[2];Cf(a,b[2],b[3],c,!0,yf);return Ve(e,yf[1],f,yf[2],d)}function Af(a,b,c,d){c=a.j(c);return Bf(a,b,c,d)}function zf(a,b,c){var d=a.fc(b[0]),e=a.j(b[0]);a=Df(a,b[0]);var f=d[0]+b[1]*a*e;b=d[1]+b[2]*a*e;return Ye(f,b,f+a*e,b+a*e,c)}
function Cf(a,b,c,d,e,f){var g=wf(a.wc,d,0),h=d/a.j(g),m=a.fc(g);a=Df(a,g);b=h*(b-m[0])/(d*a);c=h*(c-m[1])/(d*a);e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c));e=b;u(f)?(f[0]=g,f[1]=e,f[2]=c):f=[g,e,c];return f}function Ef(a,b,c){c=a.j(c);return Cf(a,b[0],b[1],c,!1,void 0)}function Df(a,b){return u(a.Pg)?a.Pg:a.Te[b]}function Ff(a,b,c){b=u(b)?b:42;c=u(c)?c:256;a=Math.max((a[2]-a[0])/c,(a[3]-a[1])/c);b+=1;c=Array(b);for(var d=0;d<b;++d)c[d]=a/Math.pow(2,d);return c};function Gf(a){sf.call(this,{Za:a.Za,e:a.e,Fa:a.Fa,projection:a.projection,state:a.state});this.cj=u(a.Be)?a.Be:!1;this.Uj=u(a.Se)?a.Se:1;this.sb=u(a.sb)?a.sb:null}F(Gf,sf);Gf.prototype.Tb=fc;Gf.prototype.uf=function(a,b,c,d){var e=!0,f,g,h,m;for(h=d.n;h<=d.B;++h)for(m=d.u;m<=d.q;++m)g=this.fe(c,h,m),a[c]&&a[c][g]||(f=b(c,h,m),null===f?e=!1:(a[c]||(a[c]={}),a[c][g]=f));return e};Gf.prototype.fe=Se;
function Hf(a,b){var c;if(null===a.sb){if(c=b.nf,null===c){c=qf(b);var d=c.R();null===d&&(c=180*ff.degrees/ff[c.Sg],d=Ye(-c,-c,c,c));c=d;var d=u(void 0)?void 0:256,e=u(void 0)?void 0:"bottom-left",f=Ff(c,void 0,d);c=new xf({origin:$e(c,e),qb:f,Va:d});b.nf=c}}else c=a.sb;return c}function If(a,b,c){return Df(Hf(a,c),b)*a.Uj}Gf.prototype.Vg=ba;function Jf(a,b){Sa.call(this);this.Pi=a;this.ze=b}F(Jf,Sa);Jf.prototype.ba=function(){return this.Pi.ba()};function Kf(a,b){b.Tb()&&a.rc.push(ma(function(a,b,e){b=y(a).toString();a.ce(e.Dd[b])},b))}function Lf(a,b){var c=b.Li;u(c)&&(w(c)?a.Ib[c]="":ha(c)&&(a.Ib[c.src]=c.href))}function Mf(a,b,c,d){b=y(b).toString();c=c.toString();b in a?c in a[b]?a[b][c].extend(d):a[b][c]=d:(a[b]={},a[b][c]=d)}function Nf(a,b,c,d){return function(e,f,g){e=Of(b,e,f,g,c,d);return a(e)?e:null}}
function Pf(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}
function Qf(a,b,c,d,e,f,g,h){var m=y(b).toString();m in a.Qb||(a.Qb[m]={});var n=a.Qb[m];a=a.Vj;var p=c.Ga,q,r,t,v,z,x;for(x=g;x>=p;--x)for(r=Af(c,f,x,r),t=c.j(x),v=r.n;v<=r.B;++v)for(z=r.u;z<=r.q;++z)if(g-x<=h){q=Of(b,x,v,z,d,e);if(0==q.S()&&(n[Te(q.p)]=!0,!(q.getKey()in a.sc))){var H=q,D=c,A=q.p,G=D.fc(A[0]),B=D.j(A[0]),L=Df(D,A[0]),D=a,H=[H,m,[G[0]+(A[1]+.5)*L*B,G[1]+(A[2]+.5)*L*B],t],A=D.rg(H);Infinity!=A&&(D.ra.push(H),D.Mb.push(A),D.sc[D.te(H)]=!0,Rf(D,0,D.ra.length-1))}u(void 0)&&(void 0).call(void 0,
q)}else b.Vg(x,v,z)};function Sf(){this.$a={};this.Kc=0;this.Qi=32}Sf.Jh=function(){return Sf.Vf?Sf.Vf:Sf.Vf=new Sf};Sf.prototype.clear=function(){this.$a={};this.Kc=0};Sf.prototype.get=function(a,b){var c=b+":"+a;return c in this.$a?this.$a[c]:null};Sf.prototype.set=function(a,b,c){this.$a[b+":"+a]=c;++this.Kc};function Tf(a,b,c,d,e,f,g,h){a[0]=1;a[1]=0;a[2]=0;a[3]=0;a[4]=0;a[5]=1;a[6]=0;a[7]=0;a[8]=0;a[9]=0;a[10]=1;a[11]=0;a[12]=0;a[13]=0;a[14]=0;a[15]=1;0===b&&0===c||xd(a,b,c);1==d&&1==e||wd(a,a[0]*d,a[1]*d,a[2]*d,a[3]*d,a[4]*e,a[5]*e,a[6]*e,a[7]*e,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15]);if(0!==f){b=a[0];c=a[1];d=a[2];e=a[3];var m=a[4],n=a[5],p=a[6],q=a[7],r=Math.cos(f);f=Math.sin(f);a[0]=b*r+m*f;a[1]=c*r+n*f;a[2]=d*r+p*f;a[3]=e*r+q*f;a[4]=b*-f+m*r;a[5]=c*-f+n*r;a[6]=d*-f+p*r;a[7]=e*-f+
q*r}0===g&&0===h||xd(a,g,h);return a}function Uf(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];b=b[1];c[0]=a[0]*g+a[4]*b+a[12];c[1]=d*g+e*b+f;return c};function Vf(a,b){Sa.call(this);this.a=b;this.va={}}F(Vf,Sa);
function Wf(a){var b=a.k,c=a.ub;Tf(c,a.size[0]/2,a.size[1]/2,1/b.f,-1/b.f,-b.rotation,-b.center[0],-b.center[1]);a=a.ng;var b=c[0],d=c[1],e=c[2],f=c[3],g=c[4],h=c[5],m=c[6],n=c[7],p=c[8],q=c[9],r=c[10],t=c[11],v=c[12],z=c[13],x=c[14],c=c[15],H=b*h-d*g,D=b*m-e*g,A=b*n-f*g,G=d*m-e*h,B=d*n-f*h,L=e*n-f*m,Va=p*z-q*v,za=p*x-r*v,Ia=p*c-t*v,X=q*x-r*z,E=q*c-t*z,U=r*c-t*x,Q=H*U-D*E+A*X+G*Ia-B*za+L*Va;0!=Q&&(Q=1/Q,a[0]=(h*U-m*E+n*X)*Q,a[1]=(-d*U+e*E-f*X)*Q,a[2]=(z*L-x*B+c*G)*Q,a[3]=(-q*L+r*B-t*G)*Q,a[4]=(-g*
U+m*Ia-n*za)*Q,a[5]=(b*U-e*Ia+f*za)*Q,a[6]=(-v*L+x*A-c*D)*Q,a[7]=(p*L-r*A+t*D)*Q,a[8]=(g*E-h*Ia+n*Va)*Q,a[9]=(-b*E+d*Ia-f*Va)*Q,a[10]=(v*B-z*A+c*H)*Q,a[11]=(-p*B+q*A-t*H)*Q,a[12]=(-g*X+h*za-m*Va)*Q,a[13]=(b*X-d*za+e*Va)*Q,a[14]=(-v*G+z*D-x*H)*Q,a[15]=(p*G-q*D+r*H)*Q)}k=Vf.prototype;k.Yd=function(a){return new Jf(this,a)};k.h=function(){cb(this.va,Ya);Vf.C.h.call(this)};
function Xf(){var a=Sf.Jh();if(a.Kc>a.Qi){var b=0,c,d;for(c in a.$a){d=a.$a[c];var e;if(e=0===(b++&3))Kb(d)?d=d.Ba(void 0,void 0):(d=Wb(d),d=!!d&&d.Ba(void 0,void 0)),e=!d;e&&(delete a.$a[c],--a.Kc)}}}function Yf(a,b){var c=y(b).toString();if(c in a.va)return a.va[c];var d=a.Yd(b);return a.va[c]=d}k.ba=function(){return this.a};k.Ie=ba;k.tj=function(a,b){for(var c in this.va)if(!(null!==b&&c in b.xe)){var d=this.va[c];delete this.va[c];Ya(d)}};
function Zf(a,b){for(var c in a.va)if(!(c in b.xe)){b.rc.push(C(a.tj,a));break}};function $f(a,b){this.rg=a;this.te=b;this.ra=[];this.Mb=[];this.sc={}}$f.prototype.clear=function(){this.ra.length=0;this.Mb.length=0;var a=this.sc,b;for(b in a)delete a[b]};$f.prototype.dequeue=function(){var a=this.ra,b=this.Mb,c=a[0];1==a.length?(a.length=0,b.length=0):(a[0]=a.pop(),b[0]=b.pop(),ag(this,0));a=this.te(c);delete this.sc[a];return c};$f.prototype.Uc=function(){return this.ra.length};$f.prototype.Fb=function(){return 0===this.ra.length};
function ag(a,b){for(var c=a.ra,d=a.Mb,e=c.length,f=c[b],g=d[b],h=b;b<e>>1;){var m=2*b+1,n=2*b+2,m=n<e&&d[n]<d[m]?n:m;c[b]=c[m];d[b]=d[m];b=m}c[b]=f;d[b]=g;Rf(a,h,b)}function Rf(a,b,c){var d=a.ra;a=a.Mb;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(a[g]>f)d[c]=d[g],a[c]=a[g],c=g;else break}d[c]=e;a[c]=f};function bg(a,b){$f.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()});this.Sj=b;this.Ec=0}F(bg,$f);bg.prototype.mi=function(){--this.Ec;this.Sj()};function cg(a){return function(b){if(u(b))return[qc(b[0],a[0],a[2]),qc(b[1],a[1],a[3])]}}function dg(a){return a};function eg(a){return function(b,c,d){if(u(b))return b=wf(a,b,d),b=qc(b+c,0,a.length-1),a[b]}}function fg(a,b,c){return function(d,e,f){if(u(d))return f=0<f?0:0>f?1:.5,d=Math.floor(Math.log(b/d)/Math.log(a)+f),e=Math.max(d+e,0),u(c)&&(e=Math.min(e,c)),b/Math.pow(a,e)}};function gg(a){if(u(a))return 0}function hg(a,b){if(u(a))return a+b}function ig(a){var b=2*Math.PI/a;return function(a,d){if(u(a))return a=Math.floor((a+d)/b+.5)*b}}function jg(){var a=5*Math.PI/180;return function(b,c){if(u(b))return Math.abs(b+c)<=a?0:b+c}};function kg(a,b,c){this.center=a;this.f=b;this.rotation=c};function V(a){Ad.call(this);a=u(a)?a:{};this.ne=[0,0];var b={};b.center=u(a.center)?a.center:null;this.sg=pf(a.projection);var c,d,e,f=u(a.Ga)?a.Ga:0;c=u(a.Jb)?a.Jb:28;var g=u(a.hk)?a.hk:2;if(u(a.qb))c=a.qb,d=c[0],e=c[c.length-1],c=eg(c);else{d=pf(a.projection);e=d.R();var h=(null===e?360*ff.degrees/ff[d.Sg]:Math.max(e[2]-e[0],e[3]-e[1]))/256/Math.pow(2,0),m=h/Math.pow(2,28);d=a.Sa;u(d)?f=0:d=h/Math.pow(g,f);e=a.kb;u(e)||(e=u(a.Jb)?u(a.Sa)?d/Math.pow(g,c):h/Math.pow(g,c):m);c=f+Math.floor(Math.log(d/
e)/Math.log(g));e=d/Math.pow(g,c-f);c=fg(g,d,c-f)}this.md=d;this.eg=e;this.Ae=f;f=u(a.e)?cg(a.e):dg;(u(a.Dh)?a.Dh:1)?(d=a.Ud,d=u(d)&&!0!==d?!1===d?hg:fa(d)?ig(d):hg:jg()):d=gg;this.Xb=new kg(f,c,d);u(a.f)?b.resolution=a.f:u(a.zoom)&&(b.resolution=lg(this,this.md,a.zoom-this.Ae));b.rotation=u(a.rotation)?a.rotation:0;this.zc(b)}F(V,Ad);function mg(a,b,c){var d,e=a.ga();a=a.j();u(e)&&u(a)&&(d=[c[0]-b*(c[0]-e[0])/a,c[1]-b*(c[1]-e[1])/a]);return d}function lg(a,b,c,d){return a.Xb.f(b,c||0,d||0)}
V.prototype.Ud=function(a,b){return this.Xb.rotation(a,b||0)};V.prototype.ga=function(){return this.get("center")};V.prototype.getCenter=V.prototype.ga;V.prototype.j=function(){return this.get("resolution")};V.prototype.getResolution=V.prototype.j;V.prototype.ta=function(){return this.get("rotation")};V.prototype.getRotation=V.prototype.ta;V.prototype.S=function(){var a=this.ga(),b=this.sg,c=this.j(),d=this.ta();return{center:a.slice(),projection:u(b)?b:null,f:c,rotation:d}};
V.prototype.re=function(){return null!=this.ga()&&u(this.j())};V.prototype.rotate=function(a,b){if(u(b)){var c,d=this.ga();u(d)&&(c=[d[0]-b[0],d[1]-b[1]],Ld(c,a-this.ta()),Kd(c,b));this.ka(c)}this.Le(a)};V.prototype.ka=function(a){this.set("center",a)};V.prototype.setCenter=V.prototype.ka;function ng(a,b){a.ne[1]+=b}V.prototype.rb=function(a){this.set("resolution",a)};V.prototype.setResolution=V.prototype.rb;V.prototype.Le=function(a){this.set("rotation",a)};V.prototype.setRotation=V.prototype.Le;function og(a){if(a.classList)return a.classList;a=a.className;return w(a)&&a.match(/\S+/g)||[]}function pg(a,b){var c;a.classList?c=a.classList.contains(b):(c=og(a),c=0<=Ea(c,b));return c}function qg(a,b){a.classList?a.classList.add(b):pg(a,b)||(a.className+=0<a.className.length?" "+b:b)}function rg(a,b){a.classList?a.classList.remove(b):pg(a,b)&&(a.className=Fa(og(a),function(a){return a!=b}).join(" "))};function sg(a){Ad.call(this);this.element=u(a.element)?a.element:null;this.a=this.Oe=null;this.jd=[];this.render=u(a.render)?a.render:ba;u(a.target)&&this.Ne(a.target)}F(sg,Ad);sg.prototype.h=function(){Nc(this.element);sg.C.h.call(this)};sg.prototype.ba=function(){return this.a};
sg.prototype.setMap=function(a){null===this.a||Nc(this.element);0!=this.jd.length&&(I(this.jd,R),this.jd.length=0);this.a=a;null!==this.a&&((null===this.Oe?a.Ce:this.Oe).appendChild(this.element),this.render!==ba&&this.jd.push(P(a,"postrender",this.render,!1,this)),a.render())};sg.prototype.Ne=function(a){this.Oe=Cc(document,a)};function tg(a){a=u(a)?a:{};this.Cd=document.createElement("UL");this.kd=document.createElement("LI");this.Cd.appendChild(this.kd);kd(this.kd,!1);this.tb=u(a.collapsed)?a.collapsed:!0;this.Nc=u(a.rh)?a.rh:!0;this.Nc||(this.tb=!1);var b=u(a.className)?a.className:"ol-attribution",c=u(a.Ue)?a.Ue:"Attributions",d=u(a.qh)?a.qh:"\u00bb";this.Qd=w(d)?Ic("SPAN",{},d):d;d=u(a.label)?a.label:"i";this.ha=w(d)?Ic("SPAN",{},d):d;c=Ic("BUTTON",{type:"button",title:c},this.Nc&&!this.tb?this.Qd:this.ha);P(c,"click",
this.yb,!1,this);P(c,["mouseout",Eb],function(){this.blur()},!1);b=Ic("DIV",b+" ol-unselectable ol-control"+(this.tb&&this.Nc?" ol-collapsed":"")+(this.Nc?"":" ol-uncollapsible"),this.Cd,c);sg.call(this,{element:b,render:u(a.render)?a.render:ug,target:a.target});this.v=!0;this.Ya={};this.Ja={};this.Ki={}}F(tg,sg);
function ug(a){a=a.frameState;if(null===a)this.v&&(kd(this.element,!1),this.v=!1);else{var b,c,d,e,f,g,h,m,n,p=a.ye,q=kb(a.Za),r={};c=0;for(b=p.length;c<b;c++)if(d=p[c].gd.wb(),null!==d&&(n=y(d).toString(),m=d.nh,null!==m))for(d=0,e=m.length;d<e;d++)g=m[d],h=y(g).toString(),h in q||(f=a.Dd[n],u(f)&&g.Vk(f)?(h in r&&delete r[h],q[h]=g):r[h]=g);b=[q,r];c=b[0];b=b[1];for(var t in this.Ya)t in c?(this.Ja[t]||(kd(this.Ya[t],!0),this.Ja[t]=!0),delete c[t]):t in b?(this.Ja[t]&&(kd(this.Ya[t],!1),delete this.Ja[t]),
delete b[t]):(Nc(this.Ya[t]),delete this.Ya[t],delete this.Ja[t]);for(t in c)n=document.createElement("LI"),n.innerHTML=c[t].Ih(),this.Cd.appendChild(n),this.Ya[t]=n,this.Ja[t]=!0;for(t in b)n=document.createElement("LI"),n.innerHTML=b[t].Ih(),kd(n,!1),this.Cd.appendChild(n),this.Ya[t]=n;t=!ib(this.Ja)||!ib(a.Ib);this.v!=t&&(kd(this.element,t),this.v=t);t&&ib(this.Ja)?qg(this.element,"ol-logo-only"):rg(this.element,"ol-logo-only");var v;a=a.Ib;t=this.Ki;for(v in t)v in a||(Nc(t[v]),delete t[v]);for(var z in a)z in
t||(v=new Image,v.src=z,c=a[z],""===c?c=v:(c=Ic("A",{href:c}),c.appendChild(v)),this.kd.appendChild(c),t[z]=c);kd(this.kd,!ib(a))}}tg.prototype.yb=function(a){a.preventDefault();a=this.element;pg(a,"ol-collapsed")?rg(a,"ol-collapsed"):qg(a,"ol-collapsed");if(this.tb){a=this.ha;var b=a.parentNode;b&&b.replaceChild(this.Qd,a)}else a=this.Qd,(b=a.parentNode)&&b.replaceChild(this.ha,a);this.tb=!this.tb};function vg(a){return 1-Math.pow(1-a,3)};function wg(a){return 3*a*a-2*a*a*a}function xg(a){return a};function yg(a){var b=a.source,c=u(a.start)?a.start:na(),d=b[0],e=b[1],f=u(a.duration)?a.duration:1E3,g=u(a.K)?a.K:wg;return function(a,b){if(b.time<c)return b.animate=!0,b.F[0]+=1,!0;if(b.time<c+f){var n=1-g((b.time-c)/f),p=d-b.k.center[0],q=e-b.k.center[1];b.animate=!0;b.k.center[0]+=n*p;b.k.center[1]+=n*q;b.F[0]+=1;return!0}return!1}}
function zg(a){var b=u(a.rotation)?a.rotation:0,c=u(a.start)?a.start:na(),d=u(a.duration)?a.duration:1E3,e=u(a.K)?a.K:wg,f=u(a.anchor)?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.F[0]+=1,!0;if(h.time<c+d){var m=1-e((h.time-c)/d),m=(b-h.k.rotation)*m;h.animate=!0;h.k.rotation+=m;if(null!==f){var n=h.k.center;n[0]-=f[0];n[1]-=f[1];Ld(n,m);Kd(n,f)}h.F[0]+=1;return!0}return!1}}
function Ag(a){var b=a.f,c=u(a.start)?a.start:na(),d=u(a.duration)?a.duration:1E3,e=u(a.K)?a.K:wg;return function(a,g){if(g.time<c)return g.animate=!0,g.F[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),m=b-g.k.f;g.animate=!0;g.k.f+=h*m;g.F[0]+=1;return!0}return!1}};function Bg(a){a=u(a)?a:{};var b=u(a.className)?a.className:"ol-rotate",c=u(a.label)?a.label:"\u21e7";this.ha=null;w(c)?this.ha=Ic("SPAN","ol-compass",c):(this.ha=c,qg(this.ha,"ol-compass"));c=Ic("BUTTON",{"class":b+"-reset",type:"button",title:u(a.Ue)?a.Ue:"Reset rotation"},this.ha);P(c,"click",Bg.prototype.yb,!1,this);P(c,["mouseout",Eb],function(){this.blur()},!1);b=Ic("DIV",b+" ol-unselectable ol-control",c);sg.call(this,{element:b,render:u(a.render)?a.render:Cg,target:a.target});this.V=u(a.duration)?
a.duration:250;this.ff=u(a.oh)?a.oh:!0;this.Cg=void 0;this.ff&&qg(this.element,"ol-hidden")}F(Bg,sg);Bg.prototype.yb=function(a){a.preventDefault();a=this.ba();var b=a.g();if(null!==b){for(var c=b.ta();c<-Math.PI;)c+=2*Math.PI;for(;c>Math.PI;)c-=2*Math.PI;u(c)&&(0<this.V&&a.pa(zg({rotation:c,duration:this.V,K:vg})),b.Le(0))}};
function Cg(a){a=a.frameState;if(null!==a){a=a.k.rotation;if(a!=this.Cg){var b="rotate("+180*a/Math.PI+"deg)";if(this.ff){var c=this.element;0===a?qg(c,"ol-hidden"):rg(c,"ol-hidden")}this.ha.style.msTransform=b;this.ha.style.webkitTransform=b;this.ha.style.transform=b}this.Cg=a}};function Dg(a){a=u(a)?a:{};var b=u(a.className)?a.className:"ol-zoom",c=u(a.ab)?a.ab:1,d=u(a.kk)?a.kk:"\u2212",e=u(a.lk)?a.lk:"Zoom out",f=Ic("BUTTON",{"class":b+"-in",type:"button",title:u(a.jk)?a.jk:"Zoom in"},u(a.ik)?a.ik:"+");P(f,"click",ma(Dg.prototype.yb,c),!1,this);P(f,["mouseout",Eb],function(){this.blur()},!1);d=Ic("BUTTON",{"class":b+"-out",type:"button",title:e},d);P(d,"click",ma(Dg.prototype.yb,-c),!1,this);P(d,["mouseout",Eb],function(){this.blur()},!1);b=Ic("DIV",b+" ol-unselectable ol-control",
f,d);sg.call(this,{element:b,target:a.target});this.V=u(a.duration)?a.duration:250}F(Dg,sg);Dg.prototype.yb=function(a,b){b.preventDefault();var c=this.ba(),d=c.g();if(null!==d){var e=d.j();u(e)&&(0<this.V&&c.pa(Ag({f:e,duration:this.V,K:vg})),c=lg(d,e,a),d.rb(c))}};function Eg(a,b,c){this.$d=a;this.nd=b;this.th=c;this.ea=[];this.Db=this.Jd=0}Eg.prototype.update=function(a,b){this.ea.push(a,b,na())};Eg.prototype.end=function(){if(6>this.ea.length)return!1;var a=na()-this.th,b=this.ea.length-3;if(this.ea[b+2]<a)return!1;for(var c=b-3;0<c&&this.ea[c+2]>a;)c-=3;var a=this.ea[b+2]-this.ea[c+2],d=this.ea[b]-this.ea[c],b=this.ea[b+1]-this.ea[c+1];this.Jd=Math.atan2(b,d);this.Db=Math.sqrt(d*d+b*b)/a;return this.Db>this.nd};
function Fg(a,b){var c=a.$d,d=a.Db,e=a.nd-d,f=Gg(a);return yg({source:b,duration:f,K:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function Gg(a){return Math.log(a.nd/a.Db)/a.$d};function W(a){Ad.call(this);this.a=null;this.setActive(!0);this.handleEvent=a.handleEvent}F(W,Ad);W.prototype.xf=function(){return this.get("active")};W.prototype.getActive=W.prototype.xf;W.prototype.ba=function(){return this.a};W.prototype.setActive=function(a){this.set("active",a)};W.prototype.setActive=W.prototype.setActive;W.prototype.setMap=function(a){this.a=a};
function Hg(a,b,c,d,e){if(null!=c){var f=b.ta(),g=b.ga();u(f)&&u(g)&&u(e)&&0<e&&(a.pa(zg({rotation:f,duration:e,K:vg})),u(d)&&a.pa(yg({source:g,duration:e,K:vg})));b.rotate(c,d)}}function Ig(a,b,c,d,e){var f=b.j();c=lg(b,f,c,0);Jg(a,b,c,d,e)}function Jg(a,b,c,d,e){if(null!=c){var f=b.j(),g=b.ga();u(f)&&u(g)&&u(e)&&0<e&&(a.pa(Ag({f:f,duration:e,K:vg})),u(d)&&a.pa(yg({source:g,duration:e,K:vg})));null!=d&&(a=mg(b,c,d),b.ka(a));b.rb(c)}};function Kg(a){a=u(a)?a:{};this.l=u(a.ab)?a.ab:1;W.call(this,{handleEvent:Lg});this.V=u(a.duration)?a.duration:250}F(Kg,W);function Lg(a){var b=!1,c=a.I;if(a.type==Je){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.l:this.l,e=b.g();Ig(b,e,c,d,this.V);a.preventDefault();b=!0}return!b};function Mg(a){a=a.I;return a.altKey&&!a.qd&&a.shiftKey}function Ng(a){a=a.I;return!a.altKey&&!a.qd&&!a.shiftKey}function Og(a){a=a.I;return!a.altKey&&!a.qd&&a.shiftKey}function Pg(a){a=a.I.target.tagName;return"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a};function Qg(a){a=u(a)?a:{};W.call(this,{handleEvent:u(a.handleEvent)?a.handleEvent:Rg});this.Nh=u(a.zb)?a.zb:fc;this.Oh=u(a.Ab)?a.Ab:ba;this.ci=u(a.bi)?a.bi:ba;this.pi=u(a.Bb)?a.Bb:fc;this.Cb=!1;this.Gc={};this.N=[]}F(Qg,W);function Sg(a){for(var b=a.length,c=0,d=0,e=0;e<b;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}
function Rg(a){if(!(a instanceof Ee))return!0;var b=!1,c=a.type;if(c===Oe||c===Qe||c===Me)c=a.nb,a.type==Me?delete this.Gc[c.pointerId]:a.type==Oe?this.Gc[c.pointerId]=c:c.pointerId in this.Gc&&(this.Gc[c.pointerId]=c),this.N=fb(this.Gc);this.Cb&&(a.type==Qe?this.Oh(a):a.type==Me&&(this.Cb=this.pi(a)));a.type==Oe?(this.Cb=a=this.Nh(a),b=this.Ac(a)):a.type==Pe&&this.ci(a);return!b}Qg.prototype.Ac=function(a){return a};function Tg(a){Qg.call(this,{zb:Ug,Ab:Vg,Bb:Wg});a=u(a)?a:{};this.Ca=a.Di;this.Gb=this.mc=null;this.za=u(a.Y)?a.Y:Ng;this.hg=!1}F(Tg,Qg);function Vg(a){var b=Sg(this.N);this.Ca&&this.Ca.update(b[0],b[1]);if(null!==this.Gb){var c=this.Gb[0]-b[0],d=b[1]-this.Gb[1];a=a.map;var e=a.g(),f=e.S(),d=c=[c,d],g=f.f;d[0]*=g;d[1]*=g;Ld(c,f.rotation);Kd(c,f.center);c=e.Xb.center(c);a.render();e.ka(c)}this.Gb=b}
function Wg(a){a=a.map;var b=a.g();if(0===this.N.length){if(!this.hg&&this.Ca&&this.Ca.end()){var c;c=this.Ca;c=(c.nd-c.Db)/c.$d;var d=this.Ca.Jd,e=b.ga();this.mc=Fg(this.Ca,e);a.pa(this.mc);var f;f=a.eb;null===f?f=null:(e=e.slice(0,2),f=Uf(f.ub,e,e));c=a.cc([f[0]-c*Math.cos(d),f[1]-c*Math.sin(d)]);c=b.Xb.center(c);b.ka(c)}ng(b,-1);a.render();return!1}this.Gb=null;return!0}
function Ug(a){if(0<this.N.length&&this.za(a)){var b=a.map,c=b.g();this.Gb=null;this.Cb||ng(c,1);b.render();null!==this.mc&&Ka(b.td,this.mc)&&(c.ka(a.frameState.k.center),this.mc=null);this.Ca&&(a=this.Ca,a.ea.length=0,a.Jd=0,a.Db=0);this.hg=1<this.N.length;return!0}return!1}Tg.prototype.Ac=fc;function Xg(a){a=u(a)?a:{};Qg.call(this,{zb:Yg,Ab:Zg,Bb:$g});this.za=u(a.Y)?a.Y:Mg;this.Ea=void 0}F(Xg,Qg);function Zg(a){if(1==a.nb.pointerId){var b=a.map,c=b.Na();a=a.pixel;c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2);if(u(this.Ea)){a=c-this.Ea;var d=b.g(),e=d.ta();b.render();Hg(b,d,e-a)}this.Ea=c}}function $g(a){if(1!=a.nb.pointerId)return!0;a=a.map;var b=a.g();ng(b,-1);var c=b.ta(),c=b.Ud(c,0);Hg(a,b,c,void 0,250);return!1}
function Yg(a){return 1==a.nb.pointerId&&Ib(a.I)&&this.za(a)?(a=a.map,ng(a.g(),1),a.render(),this.Ea=void 0,!0):!1}Xg.prototype.Ac=fc;function ah(){yd.call(this);this.aa=Xe();this.sf=-1}F(ah,yd);ah.prototype.Pc=fc;ah.prototype.R=function(a){if(this.sf!=this.Ha){for(var b=this.t,c=this.t.length,d=this.w,e=Ye(Infinity,Infinity,-Infinity,-Infinity,this.aa),f=0;f<c;f+=d){var g=e,h=b[f],m=b[f+1];g[0]=Math.min(g[0],h);g[1]=Math.min(g[1],m);g[2]=Math.max(g[2],h);g[3]=Math.max(g[3],m)}this.aa=e;this.sf=this.Ha}b=this.aa;u(a)?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b;return a};
ah.prototype.transform=function(a,b){var c=qf(a),d=qf(b),c=c.Wb,d=d.Wb,e;c in jf&&d in jf[c]&&(e=jf[c][d]);u(e)||(e=rf);null!==this.t&&(e(this.t,this.t,this.w),this.P());return this};function bh(a,b,c,d,e,f){var g=e[0],h=e[1],m=e[4],n=e[5],p=e[12];e=e[13];for(var q=u(f)?f:[],r=0;b<c;b+=d){var t=a[b],v=a[b+1];q[r++]=g*t+m*v+p;q[r++]=h*t+n*v+e}u(f)&&q.length!=r&&(q.length=r);return q};function ch(){ah.call(this);this.oc="XY";this.w=2;this.t=null}F(ch,ah);function dh(a){if("XY"==a)return 2;if("XYZ"==a||"XYM"==a)return 3;if("XYZM"==a)return 4}ch.prototype.Pc=fc;ch.prototype.translate=function(a,b){var c=this.t;if(null!==c){var d=c.length,e=this.w,f=u(c)?c:[],g=0,h,m;for(h=0;h<d;h+=e)for(f[g++]=c[h]+a,f[g++]=c[h+1]+b,m=h+2;m<h+e;++m)f[g++]=c[m];u(c)&&f.length!=g&&(f.length=g);this.P()}};function eh(a,b,c,d,e,f){for(var g=!1,h=a[c-d],m=a[c-d+1];b<c;b+=d){var n=a[b],p=a[b+1];m>f!=p>f&&e<(n-h)*(f-m)/(p-m)+h&&(g=!g);h=n;m=p}return g}function fh(a,b,c,d,e){if(0===b.length||!eh(a,0,b[0],c,d,e))return!1;var f,g;f=1;for(g=b.length;f<g;++f)if(eh(a,b[f-1],b[f],c,d,e))return!1;return!0};function gh(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];b<c;b+=d)var h=a[b],m=a[b+1],e=e+(h-f)*(m+g),f=h,g=m;return 0<e};function hh(a,b){ch.call(this);this.fa=[];this.vf=-1;this.wf=null;this.kg=-1;this.pc=null;if(null===a){var c=this.fa;this.w=dh("XY");this.oc="XY";this.t=null;this.fa=c}else{a:{var c=b,d=a;if(u(c))d=dh(c);else{for(c=0;2>c;++c){if(0===d.length){this.oc="XY";this.w=2;break a}d=d[0]}d=d.length;c=2==d?"XY":3==d?"XYZ":4==d?"XYZM":void 0}this.oc=c;this.w=d}null===this.t&&(this.t=[]);var c=this.t,d=this.w,e=this.fa,f=0,e=u(e)?e:[],g=0,h,m;h=0;for(m=a.length;h<m;++h){var n;n=c;for(var p=a[h],q=d,r=void 0,
t=void 0,r=0,t=p.length;r<t;++r){var v=p[r],z;for(z=0;z<q;++z)n[f++]=v[z]}n=f;f=e[g++]=n}e.length=g;this.t.length=0===e.length?0:e[e.length-1]}this.P()}F(hh,ch);hh.prototype.clone=function(){var a=new hh(null),b=this.oc,c=this.t.slice(),d=this.fa.slice();a.w=dh(b);a.oc=b;a.t=c;a.fa=d;a.P();return a};hh.prototype.Pc=function(a,b){return fh(ih(this),this.fa,this.w,a,b)};
function ih(a){if(a.kg!=a.Ha){var b=a.t,c;a:{c=a.fa;var d=0,e,f;e=0;for(f=c.length;e<f;++e){var g=c[e],d=gh(b,d,g,a.w);if(0===e?!d:d){c=!1;break a}d=g}c=!0}if(c)a.pc=b;else{a.pc=b.slice();c=b=a.pc;e=a.fa;f=a.w;for(var h=0,g=0,d=e.length;g<d;++g){var m=e[g],n=gh(c,h,m,f);if(0===g?!n:n)for(var n=c,p=m,q=f;h<p-q;){var r;for(r=0;r<q;++r){var t=n[h+r];n[h+r]=n[p-q+r];n[p-q+r]=t}h+=q;p-=q}h=m}b.length=h}a.kg=a.Ha}return a.pc}hh.prototype.ke=function(){return"Polygon"};function jh(a,b,c,d,e,f,g){O.call(this,a,b);this.vectorContext=c;this.frameState=e;this.context=f;this.glContext=g}F(jh,O);function kh(a){this.fb=this.Sc=this.la=this.sd=this.a=null;this.Nj=a}F(kh,Sa);function lh(a){var b=a.la,c=a.Sc;a=Ga([b,[b[0],c[1]],c,[c[0],b[1]]],a.a.cc,a.a);a[4]=a[0].slice();return new hh([a])}kh.prototype.h=function(){this.setMap(null)};kh.prototype.ai=function(a){var b=this.fb,c=this.Nj;mh(a.vectorContext,function(a){a.yj(c.tf,c.Kg);a.Hj(c.O);a.pf(b)})};kh.prototype.dc=function(){return this.fb};function nh(a){null===a.a||null===a.la||null===a.Sc||a.a.render()}
kh.prototype.setMap=function(a){null!==this.sd&&(R(this.sd),this.sd=null,this.a.render(),this.a=null);this.a=a;null!==this.a&&(this.sd=P(a,"postcompose",this.ai,!1,this),nh(this))};function oh(a,b){O.call(this,a);this.coordinate=b}F(oh,O);function ph(a){Qg.call(this,{zb:qh,Ab:rh,Bb:sh});a=u(a)?a:{};this.Rb=new kh(u(a.style)?a.style:null);this.la=null;this.za=u(a.Y)?a.Y:gc}F(ph,Qg);function rh(a){if(1==a.nb.pointerId){var b=this.Rb;a=a.pixel;b.la=this.la;b.Sc=a;b.fb=lh(b);nh(b)}}ph.prototype.dc=function(){return this.Rb.dc()};ph.prototype.ig=ba;
function sh(a){if(1!=a.nb.pointerId)return!0;this.Rb.setMap(null);var b=a.pixel[0]-this.la[0],c=a.pixel[1]-this.la[1];64<=b*b+c*c&&(this.ig(a),this.dispatchEvent(new oh("boxend",a.coordinate)));return!1}function qh(a){if(1==a.nb.pointerId&&Ib(a.I)&&this.za(a)){this.la=a.pixel;this.Rb.setMap(a.map);var b=this.Rb,c=this.la;b.la=this.la;b.Sc=c;b.fb=lh(b);nh(b);this.dispatchEvent(new oh("boxstart",a.coordinate));return!0}return!1};function th(a){if(!w(a)){var b=a[0];b!=(b|0)&&(b=b+.5|0);var c=a[1];c!=(c|0)&&(c=c+.5|0);var d=a[2];d!=(d|0)&&(d=d+.5|0);a="rgba("+b+","+c+","+d+","+a[3]+")"}return a};function uh(a){a=u(a)?a:{};this.Oc=u(a.color)?a.color:null;this.Zf=a.lineCap;this.$f=u(a.wa)?a.wa:null;this.ag=a.lineJoin;this.fg=a.miterLimit;this.dk=a.width}uh.prototype.getLineDash=function(){return this.$f};uh.prototype.Oa=function(){return this.dk};uh.prototype.setLineDash=function(a){this.$f=a};var vh=[0,0,0,1],wh=[],xh=[0,0,0,1];function yh(a){a=u(a)?a:{};this.fb=null;this.Tc=zh;u(a.geometry)&&Ah(this,a.geometry);this.tf=u(a.fill)?a.fill:null;this.M=u(a.ui)?a.ui:null;this.Kg=u(a.stroke)?a.stroke:null;this.O=u(a.text)?a.text:null}yh.prototype.dc=function(){return this.fb};yh.prototype.Aa=function(){return this.M};function Ah(a,b){ga(b)?a.Tc=b:w(b)?a.Tc=function(a){return a.get(b)}:null===b?a.Tc=zh:u(b)&&(a.Tc=function(){return b});a.fb=b}function zh(a){return a.dc()};function Bh(a){var b=u(a)?a:{};a=u(b.Y)?b.Y:Og;b=u(b.style)?b.style:new yh({stroke:new uh({color:[0,0,255,1]})});ph.call(this,{Y:a,style:b})}F(Bh,ph);Bh.prototype.ig=function(){var a=this.ba(),b=a.g(),c=this.dc().R(),d=Ze(c),e=a.Na(),c=Math.max((c[2]-c[0])/e[0],(c[3]-c[1])/e[1]),c=lg(b,c,0,void 0);Jg(a,b,c,d,200)};function Ch(a){W.call(this,{handleEvent:Dh});a=u(a)?a:{};this.za=u(a.Y)?a.Y:ic(Ng,Pg);this.jj=u(a.ij)?a.ij:128}F(Ch,W);function Dh(a){var b=!1;if("key"==a.type){var c=a.I.keyCode;if(this.za(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.g(),e=b.S(),f=e.f*this.jj,g=0,h=0;40==c?h=-f:37==c?g=-f:39==c?g=f:h=f;c=[g,h];Ld(c,e.rotation);e=b.ga();u(e)&&(u(100)&&d.pa(yg({source:e,duration:100,K:xg})),d=b.Xb.center([e[0]+c[0],e[1]+c[1]]),b.ka(d));a.preventDefault();b=!0}}return!b};function Eh(a){W.call(this,{handleEvent:Fh});a=u(a)?a:{};this.za=u(a.Y)?a.Y:Pg;this.l=u(a.ab)?a.ab:1;this.V=u(a.duration)?a.duration:100}F(Eh,W);function Fh(a){var b=!1;if("key"==a.type){var c=a.I.charCode;if(this.za(a)&&(43==c||45==c)){b=a.map;c=43==c?this.l:-this.l;b.render();var d=b.g();Ig(b,d,c,void 0,this.V);a.preventDefault();b=!0}}return!b};function Gh(a){W.call(this,{handleEvent:Hh});a=u(a)?a:{};this.l=0;this.V=u(a.duration)?a.duration:250;this.Da=null;this.Wa=this.xd=void 0}F(Gh,W);function Hh(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.I;this.Da=a.coordinate;this.l+=c.deltaY;u(this.xd)||(this.xd=na());c=Math.max(80-(na()-this.xd),0);l.clearTimeout(this.Wa);this.Wa=l.setTimeout(C(this.ae,this,b),c);a.preventDefault();b=!0}return!b}
Gh.prototype.ae=function(a){var b=qc(this.l,-1,1),c=a.g();a.render();Ig(a,c,-b,this.Da,this.V);this.l=0;this.Da=null;this.Wa=this.xd=void 0};function Ih(a){Qg.call(this,{zb:Jh,Ab:Kh,Bb:Lh});a=u(a)?a:{};this.ya=null;this.Ea=void 0;this.xc=!1;this.vd=0;this.Rj=u(a.Qj)?a.Qj:.3}F(Ih,Qg);function Kh(a){var b=0,c=this.N[0],d=this.N[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);u(this.Ea)&&(b=c-this.Ea,this.vd+=b,!this.xc&&Math.abs(this.vd)>this.Rj&&(this.xc=!0));this.Ea=c;a=a.map;c=id(a.r);d=Sg(this.N);d[0]-=c.x;d[1]-=c.y;this.ya=a.cc(d);this.xc&&(c=a.g(),d=c.ta(),a.render(),Hg(a,c,d+b,this.ya))}
function Lh(a){if(2>this.N.length){a=a.map;var b=a.g();ng(b,-1);if(this.xc){var c=b.ta(),d=this.ya,c=b.Ud(c,0);Hg(a,b,c,d,250)}return!1}return!0}function Jh(a){return 2<=this.N.length?(a=a.map,this.ya=null,this.Ea=void 0,this.xc=!1,this.vd=0,this.Cb||ng(a.g(),1),a.render(),!0):!1}Ih.prototype.Ac=fc;function Mh(a){Qg.call(this,{zb:Nh,Ab:Oh,Bb:Ph});a=u(a)?a:{};this.ya=null;this.V=u(a.duration)?a.duration:400;this.ed=void 0;this.ve=1}F(Mh,Qg);function Oh(a){var b=1,c=this.N[0],d=this.N[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);u(this.ed)&&(b=this.ed/e);this.ed=e;1!=b&&(this.ve=b);a=a.map;var e=a.g(),c=e.j(),d=id(a.r),f=Sg(this.N);f[0]-=d.x;f[1]-=d.y;this.ya=a.cc(f);a.render();Jg(a,e,c*b,this.ya)}
function Ph(a){if(2>this.N.length){a=a.map;var b=a.g();ng(b,-1);var c=b.j(),d=this.ya,e=this.V,c=lg(b,c,0,this.ve-1);Jg(a,b,c,d,e);return!1}return!0}function Nh(a){return 2<=this.N.length?(a=a.map,this.ya=null,this.ed=void 0,this.ve=1,this.Cb||ng(a.g(),1),a.render(),!0):!1}Mh.prototype.Ac=fc;function Qh(a){a=u(a)?a:{};var b=new Gd,c=new Eg(-.005,.05,100);(u(a.mh)?a.mh:1)&&b.push(new Xg);(u(a.uh)?a.uh:1)&&b.push(new Kg({ab:a.gk,duration:a.Ye}));(u(a.vh)?a.vh:1)&&b.push(new Tg({Di:c}));(u(a.gj)?a.gj:1)&&b.push(new Ih);(u(a.hj)?a.hj:1)&&b.push(new Mh({duration:a.Ye}));if(u(a.Ci)?a.Ci:1)b.push(new Ch),b.push(new Eh({ab:a.gk,duration:a.Ye}));(u(a.gg)?a.gg:1)&&b.push(new Gh({duration:a.Ye}));(u(a.Kj)?a.Kj:1)&&b.push(new Bh);return b};function Rh(a){var b=u(a)?a:{};a=kb(b);delete a.Hb;b=b.Hb;T.call(this,a);this.Ra=null;P(this,Ed("layers"),this.Yh,!1,this);null!=b?da(b)&&(b=new Gd(b.slice())):b=new Gd;this.Eg(b)}F(Rh,T);k=Rh.prototype;k.Lf=function(){this.me()&&this.P()};
k.Yh=function(){null!==this.Ra&&(I(fb(this.Ra),R),this.Ra=null);var a=this.ec();if(null!=a){this.Ra={add:P(a,"add",this.Xh,!1,this),remove:P(a,"remove",this.Zh,!1,this)};var a=a.oa,b,c,d;b=0;for(c=a.length;b<c;b++)d=a[b],this.Ra[y(d).toString()]=P(d,["propertychange","change"],this.Lf,!1,this)}this.P()};k.Xh=function(a){a=a.element;this.Ra[y(a).toString()]=P(a,["propertychange","change"],this.Lf,!1,this);this.P()};k.Zh=function(a){a=y(a.element).toString();R(this.Ra[a]);delete this.Ra[a];this.P()};
k.ec=function(){return this.get("layers")};Rh.prototype.getLayers=Rh.prototype.ec;Rh.prototype.Eg=function(a){this.set("layers",a)};Rh.prototype.setLayers=Rh.prototype.Eg;
Rh.prototype.ge=function(a){var b=u(a)?a:[],c=b.length;this.ec().forEach(function(a){a.ge(b)});a=tf(this);var d,e;for(d=b.length;c<d;c++)e=b[c],e.Sb=qc(e.Sb+a.Sb,-1,1),e.Yb*=a.Yb,e.hc+=a.hc,e.opacity*=a.opacity,e.yc*=a.yc,e.visible=e.visible&&a.visible,e.Sa=Math.min(e.Sa,a.Sa),e.kb=Math.max(e.kb,a.kb),u(a.e)&&(e.e=u(e.e)?cf(e.e,a.e):a.e);return b};Rh.prototype.If=function(){return"ready"};function Sh(a){gf.call(this,{code:a,units:"m",e:Th,global:!0,fk:Uh})}F(Sh,gf);var Vh=6378137*Math.PI,Th=[-Vh,-Vh,Vh,Vh],Uh=[-180,-85,180,85],Wh=Ga("EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" "),function(a){return new Sh(a)});
function Xh(a,b,c){var d=a.length;c=1<c?c:2;u(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function Yh(a,b,c){var d=a.length;c=1<c?c:2;u(b)||(b=2<c?a.slice():Array(d));for(var e=0;e<d;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b};function Zh(a,b){gf.call(this,{code:a,units:"degrees",e:$h,Hk:b,global:!0,fk:$h})}F(Zh,gf);var $h=[-180,-90,180,90],ai=[new Zh("CRS:84"),new Zh("EPSG:4326","neu"),new Zh("urn:ogc:def:crs:EPSG::4326","neu"),new Zh("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Zh("urn:ogc:def:crs:OGC:1.3:CRS84"),new Zh("urn:ogc:def:crs:OGC:2:84"),new Zh("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Zh("urn:x-ogc:def:crs:EPSG:4326","neu")];function Y(a){a=u(a)?a:{};var b=kb(a);delete b.pg;delete b.Ug;uf.call(this,b);this.Fg(u(a.pg)?a.pg:0);this.Hg(u(a.Ug)?a.Ug:!0)}F(Y,uf);Y.prototype.ie=function(){return this.get("preload")};Y.prototype.getPreload=Y.prototype.ie;Y.prototype.Fg=function(a){this.set("preload",a)};Y.prototype.setPreload=Y.prototype.Fg;Y.prototype.le=function(){return this.get("useInterimTilesOnError")};Y.prototype.getUseInterimTilesOnError=Y.prototype.le;Y.prototype.Hg=function(a){this.set("useInterimTilesOnError",a)};
Y.prototype.setUseInterimTilesOnError=Y.prototype.Hg;function bi(a,b,c,d,e){this.Mc={};this.i=a;this.Kb=b;this.aa=c;this.D=d;this.ck=e;this.M=this.A=this.Q=this.mf=this.lf=this.kf=null;this.wi=this.vi=this.oe=this.Rf=this.Qf=this.Pf=0;this.xi=!1;this.Zc=this.yi=0;this.zi=!1;this.Tf=0;this.O="";this.Cc=this.yd=this.Mg=this.Lg=0;this.Pe=this.Dc=this.Bc=null;this.pd=[];this.Rg=vd()}
function ci(a,b,c){if(null!==a.M){b=bh(b,0,c,2,a.D,a.pd);c=a.i;var d=a.Rg,e=c.globalAlpha;1!=a.oe&&(c.globalAlpha=e*a.oe);var f=a.yi;a.xi&&(f+=a.ck);var g,h;g=0;for(h=b.length;g<h;g+=2){var m=b[g]-a.Pf,n=b[g+1]-a.Qf;a.zi&&(m=m+.5|0,n=n+.5|0);if(0!==f||1!=a.Zc){var p=m+a.Pf,q=n+a.Qf;Tf(d,p,q,a.Zc,a.Zc,f,-p,-q);c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.M,a.vi,a.wi,a.Tf,a.Rf,m,n,a.Tf,a.Rf)}0===f&&1==a.Zc||c.setTransform(1,0,0,1,0,0);1!=a.oe&&(c.globalAlpha=e)}}
function di(a,b,c,d){var e=0;if(null!==a.Pe&&""!==a.O){null===a.Bc||ei(a,a.Bc);null===a.Dc||fi(a,a.Dc);var f=a.Pe,g=a.i,h=a.mf;null===h?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.mf={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}):(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline));b=bh(b,e,c,d,a.D,a.pd);for(f=a.i;e<c;e+=d){g=
b[e]+a.Lg;h=b[e+1]+a.Mg;if(0!==a.yd||1!=a.Cc){var m=Tf(a.Rg,g,h,a.Cc,a.Cc,a.yd,-g,-h);f.setTransform(m[0],m[1],m[4],m[5],m[12],m[13])}null===a.Dc||f.strokeText(a.O,g,h);null===a.Bc||f.fillText(a.O,g,h)}0===a.yd&&1==a.Cc||f.setTransform(1,0,0,1,0,0)}}function gi(a,b,c,d,e,f){var g=a.i;a=bh(b,c,d,e,a.D,a.pd);g.moveTo(a[0],a[1]);for(b=2;b<a.length;b+=2)g.lineTo(a[b],a[b+1]);f&&g.lineTo(a[0],a[1]);return d}
function hi(a,b,c,d,e){var f=a.i,g,h;g=0;for(h=d.length;g<h;++g)c=gi(a,b,c,d[g],e,!0),f.closePath();return c}function mh(a,b){var c=Infinity.toString(),d=a.Mc[c];u(d)?d.push(b):a.Mc[c]=[b]}k=bi.prototype;
k.wh=function(a){if(df(this.aa,a.R())){if(null!==this.Q||null!==this.A){null===this.Q||ei(this,this.Q);null===this.A||fi(this,this.A);var b;b=a.t;b=null===b?null:bh(b,0,b.length,a.w,this.D,this.pd);var c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.i;d.beginPath();d.arc(b[0],b[1],c,0,2*Math.PI);null===this.Q||d.fill();null===this.A||d.stroke()}""!==this.O&&di(this,a.ga(),2,2)}};k.xh=function(a,b){var c=a.Pk(),d,e;d=0;for(e=c.length;d<e;++d){var f=c[d];ii[f.ke()].call(this,f,b)}};
k.Ch=function(a){var b=a.t;a=a.w;null===this.M||ci(this,b,b.length);""!==this.O&&di(this,b,b.length,a)};k.Ah=function(a){var b=a.t;a=a.w;null===this.M||ci(this,b,b.length);""!==this.O&&di(this,b,b.length,a)};k.yh=function(a){if(df(this.aa,a.R())){if(null!==this.A){fi(this,this.A);var b=this.i,c=a.t;b.beginPath();gi(this,c,0,c.length,a.w,!1);b.stroke()}""!==this.O&&(a=a.Mk(),di(this,a,2,2))}};
k.zh=function(a){var b=a.R();if(df(this.aa,b)){if(null!==this.A){fi(this,this.A);var b=this.i,c=a.t,d=0,e=a.fa,f=a.w;b.beginPath();var g,h;g=0;for(h=e.length;g<h;++g)d=gi(this,c,d,e[g],f,!1);b.stroke()}""!==this.O&&(a=a.Nk(),di(this,a,a.length,2))}};
k.pf=function(a){if(df(this.aa,a.R())){if(null!==this.A||null!==this.Q){null===this.Q||ei(this,this.Q);null===this.A||fi(this,this.A);var b=this.i;b.beginPath();hi(this,ih(a),0,a.fa,a.w);null===this.Q||b.fill();null===this.A||b.stroke()}if(""!==this.O){if(a.vf!=a.Ha){b=Ze(a.R());var c=ih(a),d=a.fa,e=a.w,f,g,h,m,n,p=b[1],q=[],r=d[0];h=c[r-e];n=c[r-e+1];for(f=0;f<r;f+=e){m=c[f];g=c[f+1];if(p<=n&&g<=p||n<=p&&p<=g)h=(p-n)/(g-n)*(m-h)+h,q.push(h);h=m;n=g}r=NaN;n=-Infinity;q.sort();h=q[0];f=1;for(g=q.length;f<
g;++f){m=q[f];var t=Math.abs(m-h);t>n&&(h=(h+m)/2,fh(c,d,e,h,p)&&(r=h,n=t));h=m}isNaN(r)&&(r=b[0]);u(void 0)?((void 0).push(r,p),b=void 0):b=[r,p];a.wf=b;a.vf=a.Ha}di(this,a.wf,2,2)}}};
k.Bh=function(a){if(df(this.aa,a.R())){if(null!==this.A||null!==this.Q){null===this.Q||ei(this,this.Q);null===this.A||fi(this,this.A);var b=this.i,c=ih(a),d=0,e=a.Kk(),f=a.w,g,h;g=0;for(h=e.length;g<h;++g){var m=e[g];b.beginPath();d=hi(this,c,d,m,f);null===this.Q||b.fill();null===this.A||b.stroke()}}""!==this.O&&(a=a.Lk(),di(this,a,a.length,2))}};k.flush=function(){var a=Ga(gb(this.Mc),Number);a.sort(Ra);var b,c,d,e,f;b=0;for(c=a.length;b<c;++b)for(d=this.Mc[a[b].toString()],e=0,f=d.length;e<f;++e)d[e](this)};
function ei(a,b){var c=a.i,d=a.kf;null===d?(c.fillStyle=b.fillStyle,a.kf={fillStyle:b.fillStyle}):d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle)}
function fi(a,b){var c=a.i,d=a.lf;null===d?(c.lineCap=b.lineCap,Xd&&c.setLineDash(b.wa),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.lf={lineCap:b.lineCap,wa:b.wa,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle}):(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),Xd&&!Pa(d.wa,b.wa)&&c.setLineDash(d.wa=b.wa),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=
c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle))}
k.yj=function(a,b){if(null===a)this.Q=null;else{var c=a.Oc;this.Q={fillStyle:th(null===c?vh:c)}}if(null===b)this.A=null;else{var c=b.Oc,d=b.Zf,e=b.getLineDash(),f=b.ag,g=b.Oa(),h=b.fg;this.A={lineCap:u(d)?d:"round",wa:null!=e?e:wh,lineJoin:u(f)?f:"round",lineWidth:this.Kb*(u(g)?g:1),miterLimit:u(h)?h:10,strokeStyle:th(null===c?xh:c)}}};
k.Hj=function(a){if(null===a)this.O="";else{var b=a.tf;null===b?this.Bc=null:(b=b.Oc,this.Bc={fillStyle:th(null===b?vh:b)});var c=a.Kg;if(null===c)this.Dc=null;else{var b=c.Oc,d=c.Zf,e=c.getLineDash(),f=c.ag,g=c.Oa(),c=c.fg;this.Dc={lineCap:u(d)?d:"round",wa:null!=e?e:wh,lineJoin:u(f)?f:"round",lineWidth:u(g)?g:1,miterLimit:u(c)?c:10,strokeStyle:th(null===b?xh:b)}}var b=a.Ok(),d=a.Qk(),e=a.Rk(),f=a.ta(),g=a.Sk(),c=a.O,h=a.Tk();a=a.Uk();this.Pe={font:u(b)?b:"10px sans-serif",textAlign:u(h)?h:"center",
textBaseline:u(a)?a:"middle"};this.O=u(c)?c:"";this.Lg=u(d)?this.Kb*d:0;this.Mg=u(e)?this.Kb*e:0;this.yd=u(f)?f:0;this.Cc=this.Kb*(u(g)?g:1)}};var ii={Point:bi.prototype.Ch,LineString:bi.prototype.yh,Polygon:bi.prototype.pf,MultiPoint:bi.prototype.Ah,MultiLineString:bi.prototype.zh,MultiPolygon:bi.prototype.Bh,GeometryCollection:bi.prototype.xh,Circle:bi.prototype.wh};var ji=["Polygon","LineString","Image","Text"];function ki(a,b,c){this.Ri=b;this.zg=c;this.uc={};Sd(1,1);vd()}ki.prototype.finish=function(){for(var a in this.uc){var b=this.uc[a],c;for(c in b)b[c].finish()}};ki.prototype.Fb=function(){return ib(this.uc)};
ki.prototype.Ke=function(a,b,c,d,e){var f=Ga(gb(this.uc),Number);f.sort(Ra);var g=this.Ri,h=g[0],m=g[1],n=g[2],g=g[3],h=[h,m,h,g,n,g,n,m];bh(h,0,8,2,c,h);a.save();a.beginPath();a.moveTo(h[0],h[1]);a.lineTo(h[2],h[3]);a.lineTo(h[4],h[5]);a.lineTo(h[6],h[7]);a.closePath();a.clip();for(var p,q,h=0,m=f.length;h<m;++h)for(p=this.uc[f[h].toString()],n=0,g=ji.length;n<g;++n)q=p[ji[n]],u(q)&&q.Ke(a,b,c,d,e);a.restore()};function li(a,b){Jf.call(this,a,b);this.D=vd()}F(li,Jf);
li.prototype.Td=function(a,b,c){this.Ka("precompose",c,a,void 0);var d=this.Aa();if(null!==d){var e=b.e,f=u(e);if(f){var g=a.da,h=af(e),m=[e[2],e[3]],n=[e[2],e[1]],e=[e[0],e[1]];Uf(a.ub,h,h);Uf(a.ub,m,m);Uf(a.ub,n,n);Uf(a.ub,e,e);c.save();c.beginPath();c.moveTo(h[0]*g,h[1]*g);c.lineTo(m[0]*g,m[1]*g);c.lineTo(n[0]*g,n[1]*g);c.lineTo(e[0]*g,e[1]*g);c.clip()}g=this.Sf;h=c.globalAlpha;c.globalAlpha=b.opacity;0===a.k.rotation?(b=g[13],m=d.width*g[0],n=d.height*g[5],c.drawImage(d,0,0,+d.width,+d.height,
Math.round(g[12]),Math.round(b),Math.round(m),Math.round(n))):(c.setTransform(g[0],g[1],g[4],g[5],g[12],g[13]),c.drawImage(d,0,0),c.setTransform(1,0,0,1,0,0));c.globalAlpha=h;f&&c.restore()}this.Ka("postcompose",c,a,void 0)};li.prototype.Ka=function(a,b,c,d){var e=this.ze;if(e.Ba(a)){if(!u(d)){d=c.k;var f=c.da;d=Tf(this.D,f*c.size[0]/2,f*c.size[1]/2,f/d.f,-f/d.f,-d.rotation,-d.center[0],-d.center[1])}d=new bi(b,c.da,c.e,d,c.k.rotation);e.dispatchEvent(new jh(a,e,d,0,c,b,null));d.flush()}};
var mi=function(){var a=null,b=null;return function(c){if(null===a){a=Sd(1,1);b=a.createImageData(1,1);var d=b.data;d[0]=42;d[1]=84;d[2]=126;d[3]=255}var d=a.canvas,e=c[0]<=d.width&&c[1]<=d.height;e||(d.width=c[0],d.height=c[1],d=c[0]-1,c=c[1]-1,a.putImageData(b,d,c),c=a.getImageData(d,c,1,1),e=Pa(b.data,c.data));return e}}();(function(){var a={Eh:{}};(function(){function b(a,c){if(!(this instanceof b))return new b(a,c);this.Hd=Math.max(4,a||9);this.cf=Math.max(2,Math.ceil(.4*this.Hd));c&&this.eh(c);this.clear()}function c(a,b){a.bbox=d(a,0,a.children.length,b)}function d(a,b,c,d){for(var f=[Infinity,Infinity,-Infinity,-Infinity],g;b<c;b++)g=a.children[b],e(f,a.U?d(g):g.bbox);return f}function e(a,b){a[0]=Math.min(a[0],b[0]);a[1]=Math.min(a[1],b[1]);a[2]=Math.max(a[2],b[2]);a[3]=Math.max(a[3],b[3])}function f(a,b){return a.bbox[0]-
b.bbox[0]}function g(a,b){return a.bbox[1]-b.bbox[1]}function h(a){return(a[2]-a[0])*(a[3]-a[1])}function m(a){return a[2]-a[0]+(a[3]-a[1])}function n(a,b){return a[0]<=b[0]&&a[1]<=b[1]&&b[2]<=a[2]&&b[3]<=a[3]}function p(a,b){return b[0]<=a[2]&&b[1]<=a[3]&&b[2]>=a[0]&&b[3]>=a[1]}function q(a,b,c,d,e){for(var f=[b,c],g;f.length;)c=f.pop(),b=f.pop(),c-b<=d||(g=b+Math.ceil((c-b)/d/2)*d,r(a,b,c,g,e),f.push(b,g,g,c))}function r(a,b,c,d,e){for(var f,g,h,m,n;c>b;){600<c-b&&(f=c-b+1,g=d-b+1,h=Math.log(f),
m=.5*Math.exp(2*h/3),n=.5*Math.sqrt(h*m*(f-m)/f)*(0>g-f/2?-1:1),h=Math.max(b,Math.floor(d-g*m/f+n)),g=Math.min(c,Math.floor(d+(f-g)*m/f+n)),r(a,h,g,d,e));f=a[d];g=b;m=c;t(a,b,d);for(0<e(a[c],f)&&t(a,b,c);g<m;){t(a,g,m);g++;for(m--;0>e(a[g],f);)g++;for(;0<e(a[m],f);)m--}0===e(a[b],f)?t(a,b,m):(m++,t(a,m,c));m<=d&&(b=m+1);d<=m&&(c=m-1)}}function t(a,b,c){var d=a[b];a[b]=a[c];a[c]=d}b.prototype={all:function(){return this.Ze(this.data,[])},search:function(a){var b=this.data,c=[],d=this.X;if(!p(a,b.bbox))return c;
for(var e=[],f,g,h,m;b;){f=0;for(g=b.children.length;f<g;f++)h=b.children[f],m=b.U?d(h):h.bbox,p(a,m)&&(b.U?c.push(h):n(a,m)?this.Ze(h,c):e.push(h));b=e.pop()}return c},load:function(a){if(!a||!a.length)return this;if(a.length<this.cf){for(var b=0,c=a.length;b<c;b++)this.Ai(a[b]);return this}a=this.af(a.slice(),0,a.length-1,0);this.data.children.length?this.data.height===a.height?this.df(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.bf(a,this.data.height-a.height-1,!0)):
this.data=a;return this},Ai:function(a){a&&this.bf(a,this.data.height-1);return this},clear:function(){this.data={children:[],height:1,bbox:[Infinity,Infinity,-Infinity,-Infinity],U:!0};return this},remove:function(a){if(!a)return this;for(var b=this.data,c=this.X(a),d=[],e=[],f,g,h,m;b||d.length;){b||(b=d.pop(),g=d[d.length-1],f=e.pop(),m=!0);if(b.U&&(h=b.children.indexOf(a),-1!==h)){b.children.splice(h,1);d.push(b);this.dh(d);break}m||b.U||!n(b.bbox,c)?g?(f++,b=g.children[f],m=!1):b=null:(d.push(b),
e.push(f),f=0,g=b,b=b.children[0])}return this},X:function(a){return a},Rd:function(a,b){return a[0]-b[0]},Sd:function(a,b){return a[1]-b[1]},toJSON:function(){return this.data},Ze:function(a,b){for(var c=[];a;)a.U?b.push.apply(b,a.children):c.push.apply(c,a.children),a=c.pop();return b},af:function(a,b,d,e){var f=d-b+1,g=this.Hd,h;if(f<=g)return h={children:a.slice(b,d+1),height:1,bbox:null,U:!0},c(h,this.X),h;e||(e=Math.ceil(Math.log(f)/Math.log(g)),g=Math.ceil(f/Math.pow(g,e-1)));h={children:[],
height:e,bbox:null};var f=Math.ceil(f/g),g=f*Math.ceil(Math.sqrt(g)),m,n,p;for(q(a,b,d,g,this.Rd);b<=d;b+=g)for(n=Math.min(b+g-1,d),q(a,b,n,f,this.Sd),m=b;m<=n;m+=f)p=Math.min(m+f-1,n),h.children.push(this.af(a,m,p,e-1));c(h,this.X);return h},bh:function(a,b,c,d){for(var e,f,g,m,n,p,t,r;;){d.push(b);if(b.U||d.length-1===c)break;t=r=Infinity;e=0;for(f=b.children.length;e<f;e++){g=b.children[e];n=h(g.bbox);p=a;var q=g.bbox;p=(Math.max(q[2],p[2])-Math.min(q[0],p[0]))*(Math.max(q[3],p[3])-Math.min(q[1],
p[1]))-n;p<r?(r=p,t=n<t?n:t,m=g):p===r&&n<t&&(t=n,m=g)}b=m}return b},bf:function(a,b,c){var d=this.X;c=c?a.bbox:d(a);var d=[],f=this.bh(c,this.data,b,d);f.children.push(a);for(e(f.bbox,c);0<=b;)if(d[b].children.length>this.Hd)this.fh(d,b),b--;else break;this.Zg(c,d,b)},fh:function(a,b){var d=a[b],e=d.children.length,f=this.cf;this.$g(d,f,e);e={children:d.children.splice(this.ah(d,f,e)),height:d.height};d.U&&(e.U=!0);c(d,this.X);c(e,this.X);b?a[b-1].children.push(e):this.df(d,e)},df:function(a,b){this.data=
{children:[a,b],height:a.height+1};c(this.data,this.X)},ah:function(a,b,c){var e,f,g,m,n,p,t;n=p=Infinity;for(e=b;e<=c-b;e++){f=d(a,0,e,this.X);g=d(a,e,c,this.X);var r=f,q=g;m=Math.max(r[0],q[0]);var X=Math.max(r[1],q[1]),E=Math.min(r[2],q[2]),r=Math.min(r[3],q[3]);m=Math.max(0,E-m)*Math.max(0,r-X);f=h(f)+h(g);m<n?(n=m,t=e,p=f<p?f:p):m===n&&f<p&&(p=f,t=e)}return t},$g:function(a,b,c){var d=a.U?this.Rd:f,e=a.U?this.Sd:g,h=this.$e(a,b,c,d);b=this.$e(a,b,c,e);h<b&&a.children.sort(d)},$e:function(a,b,
c,f){a.children.sort(f);f=this.X;var g=d(a,0,b,f),h=d(a,c-b,c,f),n=m(g)+m(h),p,r;for(p=b;p<c-b;p++)r=a.children[p],e(g,a.U?f(r):r.bbox),n+=m(g);for(p=c-b-1;p>=b;p--)r=a.children[p],e(h,a.U?f(r):r.bbox),n+=m(h);return n},Zg:function(a,b,c){for(;0<=c;c--)e(b[c].bbox,a)},dh:function(a){for(var b=a.length-1,d;0<=b;b--)0===a[b].children.length?0<b?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():c(a[b],this.X)},eh:function(a){var b=["return a"," - b",";"];this.Rd=new Function("a","b",b.join(a[0]));
this.Sd=new Function("a","b",b.join(a[1]));this.X=new Function("a","return [a"+a.join(", a")+"];")}};"function"===typeof define&&define.Fk?define(function(){return b}):"undefined"!==typeof a?a.Eh=b:"undefined"!==typeof self?self.rj=b:window.rj=b})()})();function ni(a,b){li.call(this,a,b);this.qa=this.s=null;this.Nd=!1;this.i=null;this.Sf=vd();this.vg=NaN;this.ud=this.pb=null}F(ni,li);ni.prototype.Aa=function(){return this.s};
ni.prototype.Ge=function(a,b){var c=a.da,d=a.k,e=d.projection,f=this.ze,g=f.wb(),h=Hf(g,e),m=wf(h.wc,d.f,0),n=If(g,m,e),p=n/Df(h,m),q=h.j(m),p=q/p,r=d.center,t;q==d.f?(r=Pf(r,q,a.size),t=bf(r,q,d.rotation,a.size)):t=a.e;u(b.e)&&(t=cf(t,b.e));if(t[2]<t[0]||t[3]<t[1])return!1;var v=Bf(h,t,q),z=n*v.Oa(),x=n*v.Vc(),H,D;null===this.s?(D=Sd(z,x),this.s=D.canvas,this.qa=[z,x],this.i=D,this.Nd=!mi(this.qa)):(H=this.s,D=this.i,this.qa[0]<z||this.qa[1]<x||this.Nd&&(this.qa[0]>z||this.qa[1]>x)?(H.width=z,H.height=
x,this.qa=[z,x],this.Nd=!mi(this.qa),this.pb=null):(z=this.qa[0],x=this.qa[1],m==this.vg&&We(this.pb,v)||(this.pb=null)));var A,G;null===this.pb?(z/=n,x/=n,A=v.n-Math.floor((z-v.Oa())/2),G=v.u-Math.floor((x-v.Vc())/2),this.vg=m,this.pb=new Ue(A,A+z-1,G,G+x-1),this.ud=Array(z*x),x=this.pb):(x=this.pb,z=x.Oa());H={};H[m]={};var B=[],L=C(g.uf,g,H,Nf(function(a){return null!==a&&2==a.S()},g,c,e)),Va=f.le(),za=Xe(),Ia=new Ue(0,0,0,0),X,E,U;for(G=v.n;G<=v.B;++G)for(U=v.u;U<=v.q;++U)E=Of(g,m,G,U,c,e),A=
E.S(),2==A||4==A||3==A&&!Va?H[m][Te(E.p)]=E:(X=h.ee(E.p,L,null,Ia,za),X||(B.push(E),X=h.je(E.p,Ia,za),null===X||L(m+1,X)));L=0;for(X=B.length;L<X;++L)E=B[L],G=n*(E.p[1]-x.n),U=n*(x.q-E.p[2]),D.clearRect(G,U,n,n);B=Ga(gb(H),Number);B.sort(Ra);var Q=g.cj,dd=af(zf(h,[m,x.n,x.q],za)),Xa,La,ed,rc,mb,Fe,L=0;for(X=B.length;L<X;++L)if(Xa=B[L],n=If(g,Xa,e),rc=H[Xa],Xa==m)for(ed in rc)E=rc[ed],La=(E.p[2]-x.u)*z+(E.p[1]-x.n),this.ud[La]!=E&&(G=n*(E.p[1]-x.n),U=n*(x.q-E.p[2]),A=E.S(),4!=A&&(3!=A||Va)&&Q||D.clearRect(G,
U,n,n),2==A&&D.drawImage(E.Aa(),0,0,n,n,G,U,n,n),this.ud[La]=E);else for(ed in Xa=h.j(Xa)/q,rc)for(E=rc[ed],La=zf(h,E.p,za),G=(La[0]-dd[0])/p,U=(dd[1]-La[3])/p,Fe=Xa*n,mb=Xa*n,A=E.S(),4!=A&&Q||D.clearRect(G,U,Fe,mb),2==A&&D.drawImage(E.Aa(),0,0,n,n,G,U,Fe,mb),E=Af(h,La,m,Ia),A=Math.max(E.n,x.n),U=Math.min(E.B,x.B),G=Math.max(E.u,x.u),E=Math.min(E.q,x.q);A<=U;++A)for(mb=G;mb<=E;++mb)La=(mb-x.u)*z+(A-x.n),this.ud[La]=void 0;Mf(a.Dd,g,m,v);Qf(a,g,h,c,e,t,m,f.ie());Kf(a,g);Lf(a,g);Tf(this.Sf,c*a.size[0]/
2,c*a.size[1]/2,c*p/d.f,c*p/d.f,d.rotation,(dd[0]-r[0])/p,(r[1]-dd[1])/p);return!0};function oi(a,b){Vf.call(this,0,b);this.i=Sd();this.s=this.i.canvas;this.s.style.width="100%";this.s.style.height="100%";this.s.className="ol-unselectable";Mc(a,this.s,0);this.v=!0;this.D=vd()}F(oi,Vf);oi.prototype.Yd=function(a){return a instanceof Y?new ni(this,a):null};
oi.prototype.Ka=function(a,b){var c=this.ba(),d=this.i;if(c.Ba(a)){var e=b.e,f=b.da,g=b.k,h=g.f,m=g.rotation;Tf(this.D,this.s.width/2,this.s.height/2,f/h,-f/h,-m,-g.center[0],-g.center[1]);g=new ki(0,e,h);e=new bi(d,f,e,this.D,m);c.dispatchEvent(new jh(a,c,e,0,b,d,null));g.finish();g.Fb()||g.Ke(d,f,this.D,m,{});e.flush()}};oi.prototype.ke=function(){return"canvas"};
oi.prototype.Ie=function(a){if(null===a)this.v&&(kd(this.s,!1),this.v=!1);else{var b=this.i,c=a.size[0]*a.da,d=a.size[1]*a.da;this.s.width!=c||this.s.height!=d?(this.s.width=c,this.s.height=d):b.clearRect(0,0,this.s.width,this.s.height);Wf(a);this.Ka("precompose",a);var c=a.ye,d=a.k.f,e,f,g,h;e=0;for(f=c.length;e<f;++e)h=c[e],g=h.gd,g=Yf(this,g),h.visible&&d>=h.kb&&d<h.Sa&&"ready"==h.Ig&&g.Ge(a,h)&&g.Td(a,h,b);this.Ka("postcompose",a);this.v||(kd(this.s,!0),this.v=!0);Zf(this,a);a.rc.push(Xf)}};function pi(a,b,c){Jf.call(this,a,b);this.target=c}F(pi,Jf);pi.prototype.jf=ba;pi.prototype.Td=ba;pi.prototype.xb=function(){return this.target};function qi(a,b){var c=document.createElement("DIV");c.style.position="absolute";pi.call(this,a,b,c);this.v=!0;this.wg=1;this.Je=0;this.ma={}}F(qi,pi);qi.prototype.jf=function(){for(var a=this.target,b;b=a.firstChild;)a.removeChild(b);this.Je=0};
qi.prototype.Ge=function(a,b){if(!b.visible)return this.v&&(kd(this.target,!1),this.v=!1),!0;var c=a.da,d=a.k,e=d.projection,f=this.ze,g=f.wb(),h=Hf(g,e),m=wf(h.wc,d.f,0),n=h.j(m),p=d.center,q;n==d.f?(p=Pf(p,n,a.size),q=bf(p,n,d.rotation,a.size)):q=a.e;u(b.e)&&(q=cf(q,b.e));var n=Bf(h,q,n),r={};r[m]={};var t=C(g.uf,g,r,Nf(function(a){return null!==a&&2==a.S()},g,c,e)),v=f.le(),z=Xe(),x=new Ue(0,0,0,0),H,D,A,G;for(A=n.n;A<=n.B;++A)for(G=n.u;G<=n.q;++G)H=Of(g,m,A,G,c,e),D=H.S(),2==D?r[m][Te(H.p)]=H:
4==D||3==D&&!v||(D=h.ee(H.p,t,null,x,z),D||(H=h.je(H.p,x,z),null===H||t(m+1,H)));var B;if(this.Je!=g.Ha){for(B in this.ma)v=this.ma[+B],Nc(v.target);this.ma={};this.Je=g.Ha}z=Ga(gb(r),Number);z.sort(Ra);var t={},L;A=0;for(G=z.length;A<G;++A){B=z[A];B in this.ma?v=this.ma[B]:(v=Ef(h,p,B),v=new ri(h,v),t[B]=!0,this.ma[B]=v);B=r[B];for(L in B)si(v,B[L]);ti(v)}L=Ga(gb(this.ma),Number);L.sort(Ra);G=vd();z=0;for(A=L.length;z<A;++z)if(B=L[z],v=this.ma[B],B in r)if(D=v.j(),H=v.fc(),Tf(G,a.size[0]/2,a.size[1]/
2,D/d.f,D/d.f,d.rotation,(H[0]-p[0])/D,(p[1]-H[1])/D),v.setTransform(G),B in t){for(--B;0<=B;--B)if(B in this.ma){Lc(v.target,this.ma[B].target);break}0>B&&Mc(this.target,v.target,0)}else a.F[0]||a.F[1]||ui(v,q,x);else Nc(v.target),delete this.ma[B];b.opacity!=this.wg&&(this.wg=this.target.style.opacity=b.opacity);b.visible&&!this.v&&(kd(this.target,!0),this.v=!0);Mf(a.Dd,g,m,n);Qf(a,g,h,c,e,q,m,f.ie());Kf(a,g);Lf(a,g);return!0};
function ri(a,b){this.target=document.createElement("DIV");this.target.style.position="absolute";this.target.style.width="100%";this.target.style.height="100%";this.Ng=a;this.Re=b;this.od=af(zf(a,b));this.zg=a.j(b[0]);this.Fc={};this.vb=null;var c=Array(16);wd(c,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);this.D=c}
function si(a,b){var c=b.p,d=c[0],e=c[1],f=c[2],c=Te(c);if(!(c in a.Fc)){var d=Df(a.Ng,d),g=b.Aa(a),h=g.style;h.maxWidth="none";h.width=d+"px";h.height=d+"px";h.position="absolute";h.left=(e-a.Re[1])*d+"px";h.top=(a.Re[2]-f)*d+"px";null===a.vb&&(a.vb=document.createDocumentFragment());a.vb.appendChild(g);a.Fc[c]=b}}function ti(a){null!==a.vb&&(a.target.appendChild(a.vb),a.vb=null)}ri.prototype.fc=function(){return this.od};ri.prototype.j=function(){return this.zg};
function ui(a,b,c){var d=Af(a.Ng,b,a.Re[0],c);b=[];for(var e in a.Fc)c=a.Fc[e],d.contains(c.p)||b.push(c);var f,d=0;for(f=b.length;d<f;++d)c=b[d],e=Te(c.p),Nc(c.Aa(a)),delete a.Fc[e]}
ri.prototype.setTransform=function(a){var b=this.D;if(a[0]!=b[0]||a[1]!=b[1]||a[4]!=b[4]||a[5]!=b[5]||a[12]!=b[12]||a[13]!=b[13]){var b=this.target,c;if(Ud()){if(u(6)){var d=Array(16);for(c=0;16>c;++c)d[c]=a[c].toFixed(6);c=d.join(",")}else c=a.join(",");Vd(b,"matrix3d("+c+")")}else if(Td()){d=[a[0],a[1],a[4],a[5],a[12],a[13]];if(u(6)){var e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);c=e.join(",")}else c=d.join(",");Vd(b,"matrix("+c+")")}else b.style.left=Math.round(a[12])+"px",b.style.top=Math.round(a[13])+
"px";b=this.D;b[0]=a[0];b[1]=a[1];b[2]=a[2];b[3]=a[3];b[4]=a[4];b[5]=a[5];b[6]=a[6];b[7]=a[7];b[8]=a[8];b[9]=a[9];b[10]=a[10];b[11]=a[11];b[12]=a[12];b[13]=a[13];b[14]=a[14];b[15]=a[15]}};function vi(a,b){Vf.call(this,0,b);this.i=null;this.i=Sd();var c=this.i.canvas;c.style.position="absolute";c.style.width="100%";c.style.height="100%";c.className="ol-unselectable";Mc(a,c,0);this.D=vd();this.Qa=document.createElement("DIV");this.Qa.className="ol-unselectable";c=this.Qa.style;c.position="absolute";c.width="100%";c.height="100%";P(this.Qa,"touchstart",Db);Mc(a,this.Qa,0);this.v=!0}F(vi,Vf);k=vi.prototype;k.h=function(){Nc(this.Qa);vi.C.h.call(this)};
k.Yd=function(a){if(a instanceof Y)a=new qi(this,a);else return null;return a};k.Ka=function(a,b){var c=this.ba();if(c.Ba(a)){var d=b.e,e=b.da,f=b.k,g=f.f,h=f.rotation,m=this.i,n=m.canvas;Tf(this.D,n.width/2,n.height/2,e/f.f,-e/f.f,-f.rotation,-f.center[0],-f.center[1]);f=new bi(m,e,d,this.D,h);d=new ki(0,d,g);c.dispatchEvent(new jh(a,c,f,0,b,m,null));d.finish();d.Fb()||d.Ke(m,e,this.D,h,{});f.flush()}};k.ke=function(){return"dom"};
k.Ie=function(a){if(null===a)this.v&&(kd(this.Qa,!1),this.v=!1);else{var b;b=function(a,b){Mc(this.Qa,a,b)};var c=this.ba();if(c.Ba("precompose")||c.Ba("postcompose")){var c=this.i.canvas,d=a.da;c.width=a.size[0]*d;c.height=a.size[1]*d}this.Ka("precompose",a);var c=a.ye,e,f,g,d=0;for(e=c.length;d<e;++d)g=c[d],f=g.gd,f=Yf(this,f),b.call(this,f.xb(),d),"ready"==g.Ig?f.Ge(a,g)&&f.Td(a,g):f.jf();b=a.xe;for(var h in this.va)h in b||(f=this.va[h],Nc(f.xb()));this.v||(kd(this.Qa,!0),this.v=!0);Wf(a);Zf(this,
a);a.rc.push(Xf);this.Ka("postcompose",a)}};function wi(){this.J=0;this.$b={};this.ca=this.ja=null}k=wi.prototype;k.clear=function(){this.J=0;this.$b={};this.ca=this.ja=null};k.Vd=function(a){return this.$b.hasOwnProperty(a)};k.forEach=function(a,b){for(var c=this.ja;null!==c;)a.call(b,c.Pb,c.ue,this),c=c.ia};k.get=function(a){a=this.$b[a];if(a===this.ca)return a.Pb;a===this.ja?(this.ja=this.ja.ia,this.ja.Ta=null):(a.ia.Ta=a.Ta,a.Ta.ia=a.ia);a.ia=null;a.Ta=this.ca;this.ca=this.ca.ia=a;return a.Pb};k.Uc=function(){return this.J};
k.gb=function(){var a=Array(this.J),b=0,c;for(c=this.ca;null!==c;c=c.Ta)a[b++]=c.ue;return a};k.gc=function(){var a=Array(this.J),b=0,c;for(c=this.ca;null!==c;c=c.Ta)a[b++]=c.Pb;return a};k.pop=function(){var a=this.ja;delete this.$b[a.ue];null!==a.ia&&(a.ia.Ta=null);this.ja=a.ia;null===this.ja&&(this.ca=null);--this.J;return a.Pb};k.set=function(a,b){var c={ue:a,ia:null,Ta:this.ca,Pb:b};null===this.ca?this.ja=c:this.ca.ia=c;this.ca=c;this.$b[a]=c;++this.J};var xi=["canvas","webgl","dom"];
function Z(a){Ad.call(this);var b=yi(a);this.Hi=u(a.Gi)?a.Gi:!1;this.Ji=u(a.Ii)?a.Ii:!1;this.Kb=u(a.da)?a.da:Wd;this.Mi=b.Ib;this.Kd=new jc(this.uj,void 0,this);Wa(this,this.Kd);this.sh=vd();this.kj=vd();this.Gh=0;this.eb=null;this.qg=Xe();this.nc=this.Ed=null;this.r=Ic("DIV","ol-viewport");this.r.style.position="relative";this.r.style.overflow="hidden";this.r.style.width="100%";this.r.style.height="100%";this.r.style.msTouchAction="none";Zd&&(this.r.className="ol-touch");this.fj=Ic("DIV","ol-overlaycontainer");
this.r.appendChild(this.fj);this.Ce=Ic("DIV","ol-overlaycontainer-stopevent");P(this.Ce,["click","dblclick","mousedown","touchstart","MSPointerDown",Oe,qb?"DOMMouseScroll":"mousewheel"],Cb);this.r.appendChild(this.Ce);a=new Ge(this);P(a,fb(Re),this.Mf,!1,this);Wa(this,a);this.Xf=b.lc;this.bd=new Vc;P(this.bd,"key",this.Jf,!1,this);Wa(this,this.bd);a=new pd(this.r);P(a,"mousewheel",this.Jf,!1,this);Wa(this,a);this.Wd=b.controls;this.kc=b.Eb;this.De=b.qc;this.xg=new b.vj(this.r,this);Wa(this,this.xg);
this.Xg=new Qc;Wa(this,this.Xg);P(this.Xg,"resize",this.Tg,!1,this);this.de=null;this.td=[];this.og=[];this.Og=new bg(C(this.Kh,this),C(this.ni,this));this.Lj={};P(this,Ed("layergroup"),this.Uh,!1,this);P(this,Ed("view"),this.qi,!1,this);P(this,Ed("size"),this.ii,!1,this);P(this,Ed("target"),this.li,!1,this);this.zc(b.bk);this.Wd.forEach(function(a){a.setMap(this)},this);P(this.Wd,"add",function(a){a.element.setMap(this)},!1,this);P(this.Wd,"remove",function(a){a.element.setMap(null)},!1,this);this.kc.forEach(function(a){a.setMap(this)},
this);P(this.kc,"add",function(a){a.element.setMap(this)},!1,this);P(this.kc,"remove",function(a){a.element.setMap(null)},!1,this);this.De.forEach(function(a){a.setMap(this)},this);P(this.De,"add",function(a){a.element.setMap(this)},!1,this);P(this.De,"remove",function(a){a.element.setMap(null)},!1,this)}F(Z,Ad);Z.prototype.pa=function(a){this.render();Array.prototype.push.apply(this.td,arguments)};Z.prototype.h=function(){Nc(this.r);Z.C.h.call(this)};Z.prototype.xb=function(){return this.get("target")};
Z.prototype.getTarget=Z.prototype.xb;Z.prototype.cc=function(a){var b=this.eb;if(null===b)return null;a=a.slice();return Uf(b.ng,a,a)};Z.prototype.Wc=function(){return this.get("layergroup")};Z.prototype.getLayerGroup=Z.prototype.Wc;Z.prototype.ec=function(){return this.Wc().ec()};Z.prototype.Na=function(){return this.get("size")};Z.prototype.getSize=Z.prototype.Na;Z.prototype.g=function(){return this.get("view")};Z.prototype.getView=Z.prototype.g;k=Z.prototype;
k.Kh=function(a,b,c,d){var e=this.eb;if(!(null!==e&&b in e.Qb&&e.Qb[b][Te(a.p)]))return Infinity;a=c[0]-e.focus[0];c=c[1]-e.focus[1];return 65536*Math.log(d)+Math.sqrt(a*a+c*c)/d};k.Jf=function(a,b){var c=new De(b||a.type,this,a);this.Mf(c)};k.Mf=function(a){if(null!==this.eb){this.de=a.coordinate;a.frameState=this.eb;var b=this.kc.oa,c;if(!1!==this.dispatchEvent(a))for(c=b.length-1;0<=c;c--){var d=b[c];if(d.xf()&&!d.handleEvent(a))break}}};
k.fi=function(){var a=this.eb,b=this.Og;if(!b.Fb()){var c=16,d=c,e=0;null!==a&&(e=a.F,e[0]&&(c=this.Hi?8:0,d=2),e[1]&&(c=this.Ji?8:0,d=2),e=eb(a.Qb));c*=e;d*=e;if(b.Ec<c){var e=b.rg,f=b.ra,g=b.Mb,h=0,m=f.length,n,p,q;for(p=0;p<m;++p)n=f[p],q=e(n),Infinity==q?delete b.sc[b.te(n)]:(g[h]=q,f[h++]=n);f.length=h;g.length=h;for(e=(b.ra.length>>1)-1;0<=e;e--)ag(b,e);c=Math.min(c-b.Ec,d,b.Uc());for(d=0;d<c;++d)e=b.dequeue()[0],$b(e,"change",b.mi,!1,b),e.load();b.Ec+=c}}b=this.og;c=0;for(d=b.length;c<d;++c)b[c](this,
a);b.length=0};k.ii=function(){this.render()};k.li=function(){var a=this.xb(),a=u(a)?Cc(document,a):null;this.bd.detach();null===a?Nc(this.r):(a.appendChild(this.r),Wc(this.bd,null===this.Xf?a:this.Xf));this.Tg()};k.ni=function(){this.render()};k.ri=function(){this.render()};k.qi=function(){null!==this.Ed&&(R(this.Ed),this.Ed=null);var a=this.g();null!==a&&(this.Ed=P(a,"propertychange",this.ri,!1,this));this.render()};k.Vh=function(){this.render()};k.Wh=function(){this.render()};
k.Uh=function(){if(null!==this.nc){for(var a=this.nc.length,b=0;b<a;++b)R(this.nc[b]);this.nc=null}a=this.Wc();null!=a&&(this.nc=[P(a,"propertychange",this.Wh,!1,this),P(a,"change",this.Vh,!1,this)]);this.render()};k.re=function(){if(!Oc(document,this.r)||"none"==this.r.style.display)return!1;var a=this.Na();if(null==a||0>=a[0]||0>=a[1])return!1;a=this.g();return null!==a&&a.re()?!0:!1};k.render=function(){this.Kd.qe()||this.Kd.start()};
k.uj=function(a){var b,c,d,e=this.Na(),f=this.g(),g=null;if(u(e)&&0<e[0]&&0<e[1]&&null!==f&&f.re()){var g=f.ne.slice(),h=this.Wc().ge(),m={};b=0;for(c=h.length;b<c;++b)m[y(h[b].gd)]=h[b];d=f.S();g={animate:!1,Za:{},ub:this.sh,e:null,focus:null===this.de?d.center:this.de,index:this.Gh++,xe:m,ye:h,Ib:kb(this.Mi),da:this.Kb,ng:this.kj,rc:[],size:e,Yk:this.Lj,Vj:this.Og,time:a,Dd:{},k:d,F:g,Qb:{}}}if(null!==g){a=this.td;b=e=0;for(c=a.length;b<c;++b)f=a[b],f(this,g)&&(a[e++]=f);a.length=e;g.e=bf(d.center,
d.f,d.rotation,g.size)}this.eb=g;this.xg.Ie(g);if(null!==g){g.animate&&this.render();Array.prototype.push.apply(this.og,g.rc);if(b=0===this.td.length&&!g.F[0]&&!g.F[1])b=g.e,c=this.qg,b=!(b[0]==c[0]&&b[2]==c[2]&&b[1]==c[1]&&b[3]==c[3]);b&&(this.dispatchEvent(new Md("moveend",this,g)),b=g.e,c=this.qg,u(c)?(c[0]=b[0],c[1]=b[1],c[2]=b[2],c[3]=b[3]):b.slice())}this.dispatchEvent(new Md("postrender",this,g));b=g=this.fi;this&&(b=C(g,this));!ga(l.setImmediate)||l.Window&&l.Window.prototype.setImmediate==
l.setImmediate?(mc||(mc=nc()),mc(b)):l.setImmediate(b)};k.Aj=function(a){this.set("layergroup",a)};Z.prototype.setLayerGroup=Z.prototype.Aj;Z.prototype.Me=function(a){this.set("size",a)};Z.prototype.setSize=Z.prototype.Me;Z.prototype.Ne=function(a){this.set("target",a)};Z.prototype.setTarget=Z.prototype.Ne;Z.prototype.Ij=function(a){this.set("view",a)};Z.prototype.setView=Z.prototype.Ij;
Z.prototype.Tg=function(){var a=this.xb(),a=u(a)?Cc(document,a):null;if(null===a)this.Me(void 0);else{var b=Bc(a),c=K&&a.currentStyle,d;if(d=c)b=zc(b),d=Gc(b.bb);if(d&&"auto"!=c.width&&"auto"!=c.height&&!c.boxSizing)b=ld(a,c.width,"width","pixelWidth"),a=ld(a,c.height,"height","pixelHeight"),a=new yc(b,a);else{c=new yc(a.offsetWidth,a.offsetHeight);if(K){b=md(a,"paddingLeft");d=md(a,"paddingRight");var e=md(a,"paddingTop"),f=md(a,"paddingBottom"),b=new bd(e,d,f,b)}else b=cd(a,"paddingLeft"),d=cd(a,
"paddingRight"),e=cd(a,"paddingTop"),f=cd(a,"paddingBottom"),b=new bd(parseFloat(e),parseFloat(d),parseFloat(f),parseFloat(b));!K||K&&9<=yb?(d=cd(a,"borderLeftWidth"),e=cd(a,"borderRightWidth"),f=cd(a,"borderTopWidth"),a=cd(a,"borderBottomWidth"),a=new bd(parseFloat(f),parseFloat(e),parseFloat(a),parseFloat(d))):(d=od(a,"borderLeft"),e=od(a,"borderRight"),f=od(a,"borderTop"),a=od(a,"borderBottom"),a=new bd(f,e,a,d));a=new yc(c.width-a.left-b.left-b.right-a.right,c.height-a.top-b.top-b.bottom-a.bottom)}this.Me([a.width,
a.height])}};
function yi(a){var b=null;u(a.lc)&&(b=w(a.lc)?document.getElementById(a.lc):a.lc);var c={},d={};if(!u(a.Fa)||"boolean"==typeof a.Fa&&a.Fa)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";
else{var e=a.Fa;w(e)?d[e]="":ha(e)&&(d[e.src]=e.href)}e=a.Hb instanceof Rh?a.Hb:new Rh({Hb:a.Hb});c.layergroup=e;c.target=a.target;c.view=u(a.view)?a.view:new V;var e=Vf,f;u(a.tc)?da(a.tc)?f=a.tc:w(a.tc)&&(f=[a.tc]):f=xi;var g,h;g=0;for(h=f.length;g<h;++g){var m=f[g];if("canvas"==m){if(Yd){e=oi;break}}else if("dom"==m){e=vi;break}}u(a.controls)?f=da(a.controls)?new Gd(a.controls.slice()):a.controls:(f=u(void 0)?void 0:{},g=new Gd,(u(f.zoom)?f.zoom:1)&&g.push(new Dg(f.$k)),(u(f.rotate)?f.rotate:1)&&
g.push(new Bg(f.Xk)),(u(f.attribution)?f.attribution:1)&&g.push(new tg(f.Gk)),f=g);g=u(a.Eb)?da(a.Eb)?new Gd(a.Eb.slice()):a.Eb:Qh();a=u(a.qc)?da(a.qc)?new Gd(a.qc.slice()):a.qc:new Gd;return{controls:f,Eb:g,lc:b,Ib:d,qc:a,vj:e,bk:c}}kf(Wh);kf(ai);I(ai,function(a){I(Wh,function(b){mf(a,b,Xh);mf(b,a,Yh)})});function zi(a,b,c,d,e){vf.call(this,a,b);this.Jg=c;this.M=new Image;null!==d&&(this.M.crossOrigin=d);this.Yc={};this.ic=null;this.Tj=e}F(zi,vf);k=zi.prototype;k.Aa=function(a){if(u(a)){var b=y(a);if(b in this.Yc)return this.Yc[b];a=ib(this.Yc)?this.M:this.M.cloneNode(!1);return this.Yc[b]=a}return this.M};k.getKey=function(){return this.Jg};k.Qh=function(){this.state=3;I(this.ic,R);this.ic=null;this.P()};
k.Rh=function(){this.state=this.M.naturalWidth&&this.M.naturalHeight?2:4;I(this.ic,R);this.ic=null;this.P()};k.load=function(){0==this.state&&(this.state=1,this.ic=[$b(this.M,"error",this.Qh,!1,this),$b(this.M,"load",this.Rh,!1,this)],this.Tj(this,this.Jg))};function Ai(a){wi.call(this);this.ti=u(a)?a:2048}F(Ai,wi);Ai.prototype.Tb=function(){return this.Uc()>this.ti};Ai.prototype.ce=function(a){for(var b,c;this.Tb()&&!(b=this.ja.Pb,c=b.p[0].toString(),c in a&&a[c].contains(b.p));)this.pop().Qc()};function Bi(){};function Ci(a){Gf.call(this,{Za:a.Za,e:a.e,Fa:a.Fa,Be:a.Be,projection:a.projection,state:u(a.state)?a.state:void 0,sb:a.sb,Se:a.Se});this.Ad=u(a.Ad)?a.Ad:Bi;this.crossOrigin=u(a.crossOrigin)?a.crossOrigin:null;this.Ua=new Ai;this.zd=u(a.zd)?a.zd:Di;this.Qe=u(a.Qe)?a.Qe:zi}F(Ci,Gf);function Di(a,b){a.Aa().src=b}Ci.prototype.Tb=function(){return this.Ua.Tb()};Ci.prototype.ce=function(a){this.Ua.ce(a)};
function Of(a,b,c,d,e,f){var g=a.fe(b,c,d);if(a.Ua.Vd(g))return a.Ua.get(g);b=[b,c,d];e=a.Ad(b,e,f);e=new a.Qe(b,u(e)?0:4,u(e)?e:"",a.crossOrigin,a.zd);a.Ua.set(g,e);return e}function Ei(a,b){a.Ua.clear();a.zd=b;a.P()}Ci.prototype.Vg=function(a,b,c){a=this.fe(a,b,c);this.Ua.Vd(a)&&this.Ua.get(a)};function Fi(a){var b=u(a.e)?a.e:Th,c=Ff(b,a.Jb,a.Va);xf.call(this,{Ga:a.Ga,origin:$e(b,"top-left"),qb:c,Va:a.Va})}F(Fi,xf);Fi.prototype.je=function(a,b){if(a[0]<this.Jb){var c=2*a[1],d=2*a[2];return Ve(c,c+1,d,d+1,b)}return null};Fi.prototype.ee=function(a,b,c,d){d=Ve(0,a[1],0,a[2],d);for(a=a[0]-1;a>=this.Ga;--a)if(d.n=d.B>>=1,d.u=d.q>>=1,b.call(c,a,d))return!0;return!1};function Gi(){}Gi.prototype.gf=null;function Hi(a){return a.gf||(a.gf=a.Wf())};var Ii;function Ji(){}F(Ji,Gi);Ji.prototype.Xd=function(){var a=Ki(this);return a?new ActiveXObject(a):new XMLHttpRequest};Ji.prototype.Wf=function(){var a={};Ki(this)&&(a[0]=!0,a[1]=!0);return a};
function Ki(a){if(!a.Of&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var b=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],c=0;c<b.length;c++){var d=b[c];try{return new ActiveXObject(d),a.Of=d}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed");}return a.Of}Ii=new Ji;function Li(){}F(Li,Gi);Li.prototype.Xd=function(){var a=new XMLHttpRequest;if("withCredentials"in a)return a;if("undefined"!=typeof XDomainRequest)return new Mi;throw Error("Unsupported browser");};Li.prototype.Wf=function(){return{}};
function Mi(){this.na=new XDomainRequest;this.readyState=0;this.responseText=this.onreadystatechange=null;this.status=-1;this.statusText=this.responseXML=null;this.na.onload=C(this.$h,this);this.na.onerror=C(this.Kf,this);this.na.onprogress=C(this.gi,this);this.na.ontimeout=C(this.oi,this)}k=Mi.prototype;k.open=function(a,b,c){if(null!=c&&!c)throw Error("Only async requests are supported.");this.na.open(a,b)};
k.send=function(a){if(a)if("string"==typeof a)this.na.send(a);else throw Error("Only string data is supported");else this.na.send()};k.abort=function(){this.na.abort()};k.setRequestHeader=function(){};k.getResponseHeader=function(a){return"content-type"==a.toLowerCase()?this.na.contentType:""};k.$h=function(){this.status=200;this.responseText=this.na.responseText;Ni(this,4)};k.Kf=function(){this.status=500;this.responseText=null;Ni(this,4)};k.oi=function(){this.Kf()};
k.gi=function(){this.status=200;Ni(this,1)};function Ni(a,b){a.readyState=b;if(a.onreadystatechange)a.onreadystatechange()}k.getAllResponseHeaders=function(){return"content-type: "+this.na.contentType};function Oi(a,b,c){if(ga(a))c&&(a=C(a,c));else if(a&&"function"==typeof a.handleEvent)a=C(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:l.setTimeout(a,b||0)};function Pi(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);};var Qi=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;function Ri(a){if(Si){Si=!1;var b=l.location;if(b){var c=b.href;if(c&&(c=(c=Ri(c)[3]||null)?decodeURI(c):c)&&c!=b.hostname)throw Si=!0,Error();}}return a.match(Qi)}var Si=M;function Ti(a){S.call(this);this.headers=new sc;this.Gd=a||null;this.Ia=!1;this.Fd=this.b=null;this.fd=this.we="";this.hb=this.pe=this.$c=this.be=!1;this.Bd=0;this.Wa=null;this.Ag=Ui;this.We=this.ek=!1}F(Ti,S);var Ui="",Vi=/^https?$/i,Wi=["POST","PUT"];k=Ti.prototype;
k.send=function(a,b,c,d){if(this.b)throw Error("[goog.net.XhrIo] Object is active with another request\x3d"+this.we+"; newUri\x3d"+a);b=b?b.toUpperCase():"GET";this.we=a;this.fd="";this.be=!1;this.Ia=!0;this.b=this.Gd?this.Gd.Xd():Ii.Xd();this.Fd=this.Gd?Hi(this.Gd):Hi(Ii);this.b.onreadystatechange=C(this.jg,this);try{this.pe=!0,this.b.open(b,String(a),!0),this.pe=!1}catch(e){Xi(this,e);return}a=c||"";var f=this.headers.clone();d&&pc(d,function(a,b){f.set(b,a)});d=Ha(f.gb());c=l.FormData&&a instanceof
l.FormData;!(0<=Ea(Wi,b))||d||c||f.set("Content-Type","application/x-www-form-urlencoded;charset\x3dutf-8");f.forEach(function(a,b){this.b.setRequestHeader(b,a)},this);this.Ag&&(this.b.responseType=this.Ag);"withCredentials"in this.b&&(this.b.withCredentials=this.ek);try{Yi(this),0<this.Bd&&((this.We=Zi(this.b))?(this.b.timeout=this.Bd,this.b.ontimeout=C(this.Qg,this)):this.Wa=Oi(this.Qg,this.Bd,this)),this.$c=!0,this.b.send(a),this.$c=!1}catch(g){Xi(this,g)}};
function Zi(a){return K&&N(9)&&fa(a.timeout)&&u(a.ontimeout)}function Ja(a){return"content-type"==a.toLowerCase()}k.Qg=function(){"undefined"!=typeof aa&&this.b&&(this.fd="Timed out after "+this.Bd+"ms, aborting",this.dispatchEvent("timeout"),this.abort(8))};function Xi(a,b){a.Ia=!1;a.b&&(a.hb=!0,a.b.abort(),a.hb=!1);a.fd=b;$i(a);aj(a)}function $i(a){a.be||(a.be=!0,a.dispatchEvent("complete"),a.dispatchEvent("error"))}
k.abort=function(){this.b&&this.Ia&&(this.Ia=!1,this.hb=!0,this.b.abort(),this.hb=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),aj(this))};k.h=function(){this.b&&(this.Ia&&(this.Ia=!1,this.hb=!0,this.b.abort(),this.hb=!1),aj(this,!0));Ti.C.h.call(this)};k.jg=function(){this.Zb||(this.pe||this.$c||this.hb?bj(this):this.bj())};k.bj=function(){bj(this)};
function bj(a){if(a.Ia&&"undefined"!=typeof aa&&(!a.Fd[1]||4!=cj(a)||2!=dj(a)))if(a.$c&&4==cj(a))Oi(a.jg,0,a);else if(a.dispatchEvent("readystatechange"),4==cj(a)){a.Ia=!1;try{if(ej(a))a.dispatchEvent("complete"),a.dispatchEvent("success");else{var b;try{b=2<cj(a)?a.b.statusText:""}catch(c){b=""}a.fd=b+" ["+dj(a)+"]";$i(a)}}finally{aj(a)}}}function aj(a,b){if(a.b){Yi(a);var c=a.b,d=a.Fd[0]?ba:null;a.b=null;a.Fd=null;b||a.dispatchEvent("ready");try{c.onreadystatechange=d}catch(e){}}}
function Yi(a){a.b&&a.We&&(a.b.ontimeout=null);fa(a.Wa)&&(l.clearTimeout(a.Wa),a.Wa=null)}k.qe=function(){return!!this.b};function ej(a){var b=dj(a),c;a:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:c=!0;break a;default:c=!1}if(!c){if(b=0===b)a=Ri(String(a.we))[1]||null,!a&&self.location&&(a=self.location.protocol,a=a.substr(0,a.length-1)),b=!Vi.test(a?a.toLowerCase():"");c=b}return c}function cj(a){return a.b?a.b.readyState:0}
function dj(a){try{return 2<cj(a)?a.b.status:-1}catch(b){return-1}}k.getResponseHeader=function(a){return this.b&&4==cj(this)?this.b.getResponseHeader(a):void 0};k.getAllResponseHeaders=function(){return this.b&&4==cj(this)?this.b.getAllResponseHeaders():""};function fj(a){xf.call(this,a)}F(fj,Fi);function gj(a){for(var b=a.ph,c=a.Fh||"jpg",d=a.Wk||"native",e=a.width,f=a.height,g=a.Va||256,h=Math.max(Math.ceil(Math.log(e/g)/Math.LN2),Math.ceil(Math.log(f/g)/Math.LN2)),m=[],n=0;n<=h;n++){var p=Math.pow(2,h-n),q=Math.ceil(e/p),p=Math.ceil(f/p),q=Math.ceil(q/g),p=Math.ceil(p/g);m.push([q,p])}Ci.call(this,{sb:new fj({qb:a.qb.reverse(),origin:[0,0],Va:g}),Ad:function(a){var n=a[0];if(!(h<n)){var p=m[n];if(p){var q=a[1];a=-a[2]-1;if(!(0>q||p[0]<=q||0>a||p[1]<=a)){n=Math.pow(2,h-n);p=g*n;q*=p;a*=
p;var x=Math.min(q+p,e),p=Math.min(a+p,f),x=n*Math.floor(x/n),p=n*Math.floor(p/n);return b+("/"+q+","+a+","+(x-q)+","+(p-a)+"/pct:"+100/n+"/0/"+d+"."+c)}}}},crossOrigin:a.crossOrigin});Yd&&Ei(this,function(a,b){var c=a.Aa();$b(c,"load",function(){if(0<c.naturalWidth&&(c.naturalWidth!=g||c.naturalHeight!=g)){var b=document.createElement("CANVAS");b.width=g;b.height=g;b.getContext("2d").drawImage(c,0,0);var d=hb(a,function(a){return a==c});d&&(a[d]=b)}},!0);c.src=b})}F(gj,Ci);function hj(a,b,c,d,e){a=Cc(document,a);if(!a)throw Error("Invalid element");this.Oi=a;this.Zd=this.a=null;this.Wg=1==d;this.Ee=e||null;this.Uf=c||null;this.Mh=w(b)?b.substring(0,b.lastIndexOf("/")):null;this.jc(b)}hj.prototype.ba=function(){return this.a};
function ij(a,b){var c=b.width,d=b.height,e=b["@id"];if(!e){var f=b.image_host,g=b.identifier;f&&g&&(e=f+g)}e||(e=a.Mh);if(!e)throw Error("Unable to determine base url");g=(b.tiles||[{}])[0];f=new gf({code:"IIIF",units:"pixels",e:[0,-d,c,0]});e=new gj({ph:e,width:c,height:d,qb:b.scale_factors||g.scaleFactors,Fh:(b.formats||[])[0],Va:b.tile_width||g.width||void 0,projection:f,crossOrigin:a.Wg?"":"anonymous"});e=new Y({source:e});a.a=new Z({Hb:[e],target:a.Oi,tc:a.Wg?"webgl":void 0,view:new V({projection:f,
e:[0,-d,c,0]}),Eb:Qh({gg:null==a.Ee}),controls:[],Fa:!1});a.Ee&&a.a.kc.push(a.Ee);d=window.location.hash;if(0<d.length&&(0<d.indexOf("lat\x3d")||0<d.indexOf("x\x3d"))){c=[];d=d.split("\x26");d[0]=d[0].substring(1);for(f=0;f<d.length;f++)e=d[f].split("\x3d"),c[e[0]]=e[1];u(c.zoom)?(a.a.g().ka([parseFloat(c.lon),parseFloat(c.lat)-a.Zd.height]),d=a.a.g(),c=lg(d,d.md,c.zoom-d.Ae,0),d.rb(c)):(a.a.g().ka([parseFloat(c.y),-parseFloat(c.x)]),a.a.g().rb(c.res))}else c=a.a.g(),d=f.R(),f=a.a.Na()||null,d[2]<
d[0]||d[3]<d[1]||(c.ka(Ze(d)),d=Math.max((d[2]-d[0])/f[0],(d[3]-d[1])/f[1]),f=lg(c,d,0,0),f<d&&(f=lg(c,f,-1,0)),c.rb(f));a.Uf&&a.Uf(a)}hj.prototype.jc=function(a){if(w(a)){var b=new Ti(new Li);P(b,"complete",function(){if(ej(b)){var a;a=b.b?Pi(b.b.responseText):void 0;this.jc(a)}},!1,this);b.send(a)}else this.Zd=a,ij(this,a)};
hj.prototype.jh=function(a){if(!1!==a){var b=null!=a.accuracy?a.accuracy:4,c=this.Zd.height;this.a.on("moveend",function(){var d=this.g(),e=d.ga(),f="",f=parseFloat(e[1]);if(null!=a.geoFormat&&!1===a.geoFormat)f="res\x3d"+d.j()+"\x26x\x3d"+Math.abs(f.toFixed(b))+"\x26y\x3d"+e[0].toFixed(b);else{var f=f+c,g,h=d.j();if(u(h)){var m,n=0;do{m=lg(d,d.md,n);if(m==h){g=n;break}++n}while(m>d.eg)}f="zoom\x3d"+(u(g)?d.Ae+g:g)+"\x26lat\x3d"+f.toFixed(b)+"\x26lon\x3d"+e[0].toFixed(b)}null!=a.addToEnd&&(f+="\x26"+
a.addToEnd);window.location.hash=f})}};function jj(a,b){this.T=a;this.ib=b;this.Pj=20;this.Z=null}k=jj.prototype;
k.jc=function(){if(null===this.Z){var a=this.ib;"auto"!==a&&null!=a?a.indexOf(["l","p","landscape","portrait"])||(a="l"):a=window.innerWidth>window.innerHeight?"l":"p";this.ib=a.substring(0,1);var a=this.T,b={zk:[1189,841],Ak:[841,594],Bk:[594,420],Ck:[420,297],Dk:[297,210],Ek:[210,148]};"auto"!==a&&null!=a?a=da(a)||null==b[a.toLowerCase()]?da(a)&&null!=a[0]&&null!=a[1]?a:[297,210]:b[a.toLowerCase()]:(a=window.innerWidth,b=window.innerHeight,a=a>b?[a/4,b/4]:[b/4,a/4]);this.T=a;this.Z=new jsPDF(this.ib,
"mm",this.T)}};k.lh=function(a,b,c,d,e){null!==c&&this.Z.setTextColor(c[0],c[1],c[2]);null===b&&(b=this.Pj);this.Z.setFontSize(b);b=kj(this,d,e);this.Z.text(a,b[0],b[1]);this.Z.setTextColor(0,0,0)};k.hh=function(a,b,c,d,e){b=kj(this,b,c);this.Z.addImage(a,"JPEG",b[0],b[1],d,e)};
k.ih=function(a,b,c){var d=document;a=(ha(a)&&1==a.nodeType?a:Cc(document,a))||d;a=a.querySelectorAll&&a.querySelector?a.querySelectorAll("CANVAS"):a.getElementsByTagName("CANVAS");a=a[0];d=a.getContext("2d");d.getImageData(0,0,a.width,a.height);d.globalCompositeOperation="destination-over";d.fillStyle="#ffffff";d.fillRect(0,0,a.width,a.height);var d=a.toDataURL("image/jpeg"),e,f;window.console.log(this.T);if("auto"===this.T)this.T=[a.width/4,a.height/4],e=a.width/4,f=a.height/4,this.jc();else{this.jc();
var g;a.width>a.height?(e=0<this.ib.indexOf(["l","landscape"])?this.T[1]:this.T[0],g=a.width/e,f=a.height/g):(f=0<this.ib.indexOf(["p","portrait"])?this.T[1]:this.T[0],g=a.height/f,e=a.width/g)}b=kj(this,null!=b?b:0,null!=c?c:0);this.Z.addImage(d,"JPEG",b[0],b[1],e,f)};k.save=function(a){a=null!=a?".pdf"===a.slice(-4)?a:a+".pdf":"doc";this.Z.save(a)};k.kh=function(a,b,c,d,e){this.Z.setFillColor(e[0],e[1],e[2]);a=kj(this,a,b);this.Z.rect(a[0],a[1],c,d,"F");this.Z.setFillColor(0,0,0)};
function kj(a,b,c){0>b&&(b="l"===a.ib?b+a.T[0]:b+a.T[1]);0>c&&(c="l"===a.ib?c+a.T[1]:c+a.T[0]);return[b,c]};function lj(){W.call(this,{handleEvent:C(this.Ph,this)});this.l=0;this.Da=null;this.Od=!1;this.ad=null}F(lj,W);lj.prototype.setMap=function(a){lj.C.setMap.call(this,a);a&&(a=a.g(),P(a,Ed("center"),function(){this.Od||(this.Da=null)},!1,this))};
lj.prototype.Ph=function(a){var b=!1;if("mousewheel"==a.type){var b=a.map,c=a.I;this.Da=a.coordinate;var d=c.deltaY/12;this.l=0<this.l==0<c.deltaY?this.l+d:d;this.l=qc(this.l,-1.5,1.5);null==this.ad&&(this.ad=l.setInterval(C(this.ae,this,b),125));a.preventDefault();b=!0}return!b};
lj.prototype.ae=function(a){var b=a.g(),c=b.S(),d=c.f,c=c.center;u(d)&&u(c)&&(a.pa(Ag({f:d,duration:125,K:xg})),this.Da&&a.pa(yg({source:c,duration:125,K:xg})));qc(this.l,-1,1);a=Math.pow(2,this.l)*d;a=qc(a,b.eg,b.md);this.Da&&(d=mg(b,a,this.Da),this.Od=!0,b.ka(d),this.Od=!1);b.rb(a);this.l/=2;.01>Math.abs(this.l)&&(this.l=0,l.clearInterval(this.ad),this.ad=null)};function mj(a,b,c){hj.call(this,a,b,c,void 0,new lj)}F(mj,hj);oa("IiifViewer",mj);oa("IiifViewer.prototype.getMap",hj.prototype.ba);oa("IiifViewer.prototype.addPermalink",hj.prototype.jh);function nj(a,b){jj.call(this,a,b)}F(nj,jj);oa("IiifPrint",nj);oa("IiifPrint.prototype.addText",jj.prototype.lh);oa("IiifPrint.prototype.addBase64Image",jj.prototype.hh);oa("IiifPrint.prototype.addDocument",jj.prototype.ih);oa("IiifPrint.prototype.addRectangle",jj.prototype.kh);oa("IiifPrint.prototype.save",jj.prototype.save);
