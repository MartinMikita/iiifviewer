<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
    <meta name="description" content="">
    <meta name="author" content="Klokan Technologies GmbH (http://www.klokantech.com/)">
    <script src="https://parall.ax/parallax/js/jspdf.js"></script>
    <title>IIIF Viewer - print to pdf</title>
    <script src="https://cdn.klokantech.com/iiifviewer/v1.1/iiifviewer.js"></script>
    <style>
      html, body, #viewer {width:100%;height:100%;margin:0;padding:0;}
      #btn-print{position: absolute; top: 20px; right: 20px; font-size: 16px;width: 80px;height: 40px;background: #00adef;color: #fff;font-weight: bold;border: 0;cursor: pointer;}
      #btn-print:hover{background-color: #0078A6;}
      #exlink{padding: 10px; background-color: #fff; color: #000; position: absolute; bottom: 10px; right: 10px;}
    </style>
  </head>
  <body>
    <div id="viewer"></div>
    <button id="btn-print" onclick="print();">Print</button>

    <script type="text/javascript">
      //init IiifViewer
      var url = location.hash.toString().substr(1);
      if (url.length < 2)
        url = 'http://demo.iiifhosting.com/iiif/demo/info.json';
      new IiifViewer('viewer', url, undefined, '');

      function print() {
        var logo = 'data:image/jpeg;base64,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';

        var doc = new IiifPrint('auto', 'auto');
        //adds document
        doc.addDocument('viewer');

        //Adds image to document
        doc.addBase64Image(logo, 10, 10, 59, 17);
        //Adds text to document
        doc.addText('IiifViewer', 25, [0, 0, 0], 28, 21.5);

        //Draw text to bottom of document
        var rHeight = 8;
        doc.addRectangle(0, -(rHeight), 400, rHeight, [255, 255, 255]);
        //draw from another corner using negative values of position
        doc.addText(location.host, 12, [0, 0, 0], 10, -3);

        //Get pdf
        doc.save('mydocument');
      }
    </script>
    <a href="./" id="exlink">Back to examples</a>
  </body>
</html>
